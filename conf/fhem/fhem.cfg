attr global userattr DbLogExclude DbLogInclude DbLogValueFn:textField-long alarmDevice alarmSettings cmdIcon devStateIcon devStateIcon:textField-long devStateStyle genericDeviceType:security,ignore,switch,outlet,light,blind,thermometer,thermostat,contact,garage,window,lock homebridgeMapping:textField-long icon siriName sortby webCmd webCmdLabel:textField-long widgetOverride
attr global autoload_undefined_devices 1
attr global autosave 0
attr global holiday2we nw
attr global logfile ./log/fhem-%Y-%m-%d.log
attr global modpath .
attr global motd none
attr global pidfilename /var/run/fhem/fhem.pid
attr global room System
attr global showInternalValues 1
attr global statefile ./log/fhem.save
attr global updateInBackground 1
attr global verbose 3

define telnetPort telnet 7072 global
setuuid telnetPort 5c63389a-f33f-47a6-6006-4a23a79997bb3bfa
attr telnetPort room System

define WEB FHEMWEB 8083 global
setuuid WEB 5c63389a-f33f-47a6-81b9-bb9ae0687a6361b8
attr WEB JavaScripts codemirror/fhem_codemirror.js
attr WEB closeConn 0
attr WEB codemirrorParam { "lineWrapping":true }
attr WEB editConfig 1
attr WEB iconPath fhemSVG:openautomation:default
attr WEB longpoll 1
attr WEB mainInputLength 80
attr WEB menuEntries Homebridge,http://192.168.2.35:8581,Portainer,http://192.168.2.35:9000/#/containers,Pi-Hole,http://192.168.2.35/admin/,TasmoAdmin,http://192.168.2.35:5555/devices
attr WEB plotEmbed 0
attr WEB plotfork 1
attr WEB room System
attr WEB stylesheetPrefix f11


### Fake FileLog entry, to access the fhem log from FHEMWEB 
define Logfile FileLog ./log/fhem-%Y-%m-%d.log fakelog
setuuid Logfile 5c63389a-f33f-47a6-a5e0-9620b9fca2418a52
attr Logfile room System

define autocreate autocreate
setuuid autocreate 5c63389a-f33f-47a6-e3c0-3d1839cf94c3d7d9
attr autocreate room System

define eventTypes eventTypes ./log/eventTypes.txt
setuuid eventTypes 5c63389a-f33f-47a6-0ce1-bb594e2d03416feb
attr eventTypes room System

### Disable this to avoid looking for new USB devices on startup
define initialUsbCheck notify global:INITIALIZED usb create
setuuid initialUsbCheck 5c63389a-f33f-47a6-cf94-13923b43a24ce4fe
attr initialUsbCheck room System

define logdb DbLog ./db.conf .*:.*
setuuid logdb 5c63389b-f33f-47a6-3c23-7854f3b462ac92cd
attr logdb DbLogSelectionMode Include
attr logdb DbLogType Current/History
attr logdb asyncMode 1
attr logdb room Plots->System,Plots->Zähler

define Rep.LogDB.sqlResult DbRep logdb
setuuid Rep.LogDB.sqlResult 5dac3f69-f33f-d8e9-1923-54b486d42ec7bb58
attr Rep.LogDB.sqlResult aggregation no
attr Rep.LogDB.sqlResult comment Device zum freien Report mit sqlCmd.\
- Auswahl von Statements -\
\
Device/Reading-Kombinationen in der Datenbank:\
select device, reading, count(*) from history group by DEVICE, READING\
\
geloggte Devices in der Datenbank:\
select device, count(*) from history group by DEVICE\

attr Rep.LogDB.sqlResult devStateIcon connected:10px-kreis-gelb .*disconnect:10px-kreis-rot .*done:10px-kreis-gruen
attr Rep.LogDB.sqlResult disable 0
attr Rep.LogDB.sqlResult event-on-update-reading state
attr Rep.LogDB.sqlResult fastStart 1
attr Rep.LogDB.sqlResult group Datenbankauswertungen
attr Rep.LogDB.sqlResult room System
attr Rep.LogDB.sqlResult showproctime 1
attr Rep.LogDB.sqlResult sqlResultFormat table
attr Rep.LogDB.sqlResult stateFormat { if (defined($defs{$name}{READINGS}{SqlResult})) {\
   ReadingsVal($name,"SqlResult",undef);;\
  } else {\
   ReadingsVal($name,"state",undef);;\
  } \
}
attr Rep.LogDB.sqlResult timeout 1000
attr Rep.LogDB.sqlResult verbose 2

define sysstat SYSSTAT
setuuid sysstat 5c63389b-f33f-47a6-34d3-1ba0d9a3986c4255
attr sysstat DbLogInclude /,/boot,cpufreq,load,temperature
attr sysstat filesystems /dev/root,/dev/mmcblk0p1
attr sysstat raspberrycpufreq 1
attr sysstat raspberrytemperature 2
attr sysstat room System
attr sysstat showpercent 1

define Stromzaehler OBIS /dev/lesekopf@9600,7,E,1 SML
setuuid Stromzaehler 5c63389b-f33f-47a6-4250-3173f54cdaf79b52
attr Stromzaehler DbLogInclude power,total_consumption
attr Stromzaehler event-min-interval total_consumption:60
attr Stromzaehler interval 10
attr Stromzaehler pollingMode on
attr Stromzaehler room Zähler

### Plots
define myPlot_Stromverbrauch SVG logdb:myPlot_Stromverbrauch:HISTORY
setuuid myPlot_Stromverbrauch 5c63389b-f33f-47a6-cf75-5e1c1f04f64aaacc
attr myPlot_Stromverbrauch room Plots->Zähler,Zähler

define myPlot_Systemlast SVG logdb:myPlot_Systemlast:HISTORY
setuuid myPlot_Systemlast 5dac2bf3-f33f-d8e9-35bb-68258cb7d129915f
attr myPlot_Systemlast room Plots->System

define myPlot_Temperatur SVG logdb:myPlot_Temperatur:HISTORY
setuuid myPlot_Temperatur 5dac3225-f33f-d8e9-80f2-46b662125fa8b8cb
attr myPlot_Temperatur room Plots->System

define myPlot_Synology SVG logdb:myPlot_Synology:HISTORY
setuuid myPlot_Synology 5dcdd830-f33f-d8e9-c608-fb7737e10b9746e2
attr myPlot_Synology room Plots->Synology,Synology
attr myPlot_Synology sortby 3

define myPlot_Computer SVG logdb:myPlot_Computer:HISTORY
setuuid myPlot_Computer 5e2755db-f33f-d8e9-78e5-a1f276c26d8865db
attr myPlot_Computer room Plots->Computer
attr myPlot_Computer sortby 2

define myPlot_Fernseher SVG logdb:myPlot_Fernseher:HISTORY
setuuid myPlot_Fernseher 5e2755db-f33f-d8e9-8b85-20f24d0ce8a8b652
attr myPlot_Fernseher room Plots->Fernseher
attr myPlot_Fernseher sortby 1

define myPlot_Kuehlschrank1 SVG logdb:myPlot_Kuehlschrank1:HISTORY
setuuid myPlot_Kuehlschrank1 5e2755db-f33f-d8e9-1051-221d990494af7e14
attr myPlot_Kuehlschrank1 room Plots->Kühlschrank
attr myPlot_Kuehlschrank1 sortby 1

define myPlot_Trockner SVG logdb:myPlot_Trockner:HISTORY
setuuid myPlot_Trockner 5e2755db-f33f-d8e9-1d97-b67e81069f58407c
attr myPlot_Trockner room Plots->Waschen
attr myPlot_Trockner sortby 6

define myPlot_Waschmaschine SVG logdb:myPlot_Waschmaschine:HISTORY
setuuid myPlot_Waschmaschine 5e2755db-f33f-d8e9-afae-30449e8d78ba3b26
attr myPlot_Waschmaschine room Plots->Waschen
attr myPlot_Waschmaschine sortby 5

### Stromzähler
define rgStromzaehler readingsGroup TYPE=OBIS:power\
TYPE=OBIS:total_consumption
setuuid rgStromzaehler 5c63389d-f33f-47a6-2bf5-83fb96bac44a93bd
attr rgStromzaehler group Strom
attr rgStromzaehler mapping {'power' => 'Aktueller Verbrauch (gesamt)', 'total_consumption' => 'Zählerstand'}
attr rgStromzaehler noheading 1
attr rgStromzaehler notime 1
attr rgStromzaehler room Dashboard
attr rgStromzaehler style style="border:0px;;background:none;;box-shadow:none"
attr rgStromzaehler valueFormat {\
	power => "%.0fW", \
	total_consumption => "%.2fkWh"\
}
attr rgStromzaehler valueIcon {\
	'state.on' => 'general_an',\
	'state.off' => 'general_aus@red'\
}
attr rgStromzaehler valueStyle style="text-align:right"

### Systemüberwachung
define rgSystemstatus readingsGroup sysstat:temperature\
sysstat:load
setuuid rgSystemstatus 5c63389d-f33f-47a6-1722-fc5157e02a66911c
attr rgSystemstatus alias Raspberry Pi
attr rgSystemstatus group Systemstatus
attr rgSystemstatus mapping {'load' => 'Auslastung (letzte Minute)', 'temperature' => 'CPU-Temperatur'}
attr rgSystemstatus noheading 1
attr rgSystemstatus nostate 1
attr rgSystemstatus notime 1
attr rgSystemstatus room Dashboard
attr rgSystemstatus style style="border:0px;;background:none;;box-shadow:none"
attr rgSystemstatus valueFormat {load => '{sprintf("%.0f%%",$VALUE*100)}',temperature=> "%.1f°C"}
attr rgSystemstatus valueStyle style="text-align:right"

### FritzBox!
define Fritzbox FRITZBOX 192.168.2.1
setuuid Fritzbox 5c63389d-f33f-47a6-d795-5178a94247f3148b
attr Fritzbox DbLogInclude rateDownInMB,rateUpInMB,box_connect,powerInWatt,box_cpuTemp
attr Fritzbox INTERVAL 60
attr Fritzbox allowTR064Command 1
attr Fritzbox boxUser fritz
attr Fritzbox event-on-change-reading rateDownInMB,rateUpInMB,box_connect,powerInWatt,box_cpuTemp,box_guestWlan,box_wlan_2.4GHz,box_wlan_5GHz
attr Fritzbox room FritzBox
attr Fritzbox userReadings powerInWatt {ReadingsVal("Fritzbox","box_powerRate",0)/100*27}, \
rateDownInMB {ReadingsVal("Fritzbox","box_rateDown",0)*8/1024}, \
rateUpInMB {ReadingsVal("Fritzbox","box_rateUp",0)*8/1024}
### Den Powerwert für die Referenz sieht man hier: https://stefans-itblog.de/homebridge-mappings-in-fhem/

define rgFritzbox readingsGroup TYPE=FRITZBOX:box_cpuTemp\
TYPE=FRITZBOX:box_powerRate\
TYPE=FRITZBOX:box_wlan_2.4GHz\
TYPE=FRITZBOX:box_guestWlan
setuuid rgFritzbox 5c63389d-f33f-47a6-21d4-b13e4e3cdc6ac2f1
attr rgFritzbox alwaysTrigger 1
attr rgFritzbox group FritzBox
attr rgFritzbox mapping {'box_cpuTemp' => 'CPU-Temperatur', 'box_powerRate' => 'Aktueller Energieverbrauch:', 'box_wlan_2.4GHz' => 'WLAN', 'box_guestWlan' => 'WLAN Gastzugang'}
attr rgFritzbox noheading 1
attr rgFritzbox nostate 1
attr rgFritzbox notime 1
attr rgFritzbox room Dashboard,FritzBox
attr rgFritzbox style style="border:0px;;background:none;;box-shadow:none"
attr rgFritzbox valueFormat {box_cpuTemp => "%.1f°C", box_powerRate => "%.0f%%"}
attr rgFritzbox valueIcon {\
	'box_wlan_2.4GHz.on' => 'ios-on-green',\
	'box_wlan_2.4GHz.off' => 'ios-off',\
	'box_guestWlan.on' => 'ios-on-green',\
	'box_guestWlan.off' => 'ios-off'\
}
attr rgFritzbox valueStyle style="text-align:right"

define atTraffic at +*00:01:00 {\
my $d= ((ReadingsVal("Fritzbox",".box_TodayBytesReceivedLow",0) / (1000*1000) ) / 1000 + ( ReadingsVal("Fritzbox",".box_TodayBytesReceivedHigh",0) * 4294967296 / (1000*1000) ) / 1000);;\
fhem("setreading Empfangen Empfangen $d");;\
 \
my $e= ((ReadingsVal("Fritzbox",".box_TodayBytesSentLow",0) / (1000*1000) ) / 1000 + ( ReadingsVal("Fritzbox",".box_TodayBytesSentHigh",0) * 4294967296 / (1000*1000) ) / 1000);;\
fhem("setreading Gesendet Gesendet $e");;\
}
setuuid atTraffic 5d46efb2-f33f-47a6-8aa6-f11611f4065b57c0
attr atTraffic room FritzBox
define Empfangen dummy
setuuid Empfangen 5d46efd4-f33f-47a6-f3a5-a8e7b1af00902ce0
attr Empfangen alias Download (Heute - Gesamt)
attr Empfangen icon control_arrow_down@green
attr Empfangen room FritzBox
attr Empfangen stateFormat {sprintf("%.2f GB - %.2f GB",ReadingsVal("Empfangen","Empfangen",0),ReadingsVal("Empfangen","Empfangen_ges",0))}
attr Empfangen userReadings Empfangen_ges monotonic { ReadingsVal("Empfangen","Empfangen",0)}
define Gesendet dummy
setuuid Gesendet 5d46efe5-f33f-47a6-3e89-b88e6870270f6cd9
attr Gesendet alias Upload (Heute - Gesamt)
attr Gesendet icon control_arrow_up@red
attr Gesendet room FritzBox
attr Gesendet stateFormat {sprintf("%.2f GB - %.2f GB",ReadingsVal("Gesendet","Gesendet",0),ReadingsVal("Gesendet","Gesendet_ges",0))}
attr Gesendet userReadings Gesendet_ges monotonic { ReadingsVal("Gesendet","Gesendet",0)}

### MQTT2-Server und Tasmota-Devices
define broker MQTT2_SERVER 1883 global
setuuid broker 5c63389d-f33f-47a6-5ce0-c308ac79547f778e
attr broker autocreate simple
attr broker ignoreRegexp cmnd/[^:"]+:
attr broker room Tasmota

define MQTT2_DVES_4B31BB MQTT2_DEVICE DVES_4B31BB
setuuid MQTT2_DVES_4B31BB 5c6b2376-f33f-47a6-c868-3c84c20e02eb6671
attr MQTT2_DVES_4B31BB DbLogInclude POWER1
attr MQTT2_DVES_4B31BB IODev broker
attr MQTT2_DVES_4B31BB alias Umwälzpumpe
attr MQTT2_DVES_4B31BB autocreate 1
attr MQTT2_DVES_4B31BB event-on-change-reading .*
attr MQTT2_DVES_4B31BB icon mqtt_device
attr MQTT2_DVES_4B31BB readingList tele/obi-wlan1/LWT:.* LWT\
  tele/obi-wlan1/STATE:.* { json2nameValue($EVENT) }\
  tele/obi-wlan1/SENSOR:.* { json2nameValue($EVENT) }\
  tele/obi-wlan1/INFO.:.* { json2nameValue($EVENT) }\
  stat/obi-wlan1/RESULT:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/POWER1:.* POWER1\
DVES_4B31BB:cmnd/obi-wlan1/POWER:.* POWER\
DVES_4B31BB:tasmota/discovery/5CCF7F4B31BB/config:.* { json2nameValue($EVENT) }\
DVES_4B31BB:tasmota/discovery/5CCF7F4B31BB/sensors:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/STATUS:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/STATUS1:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/STATUS2:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/STATUS3:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/STATUS4:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/STATUS5:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/STATUS6:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/STATUS7:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/STATUS10:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/STATUS11:.* { json2nameValue($EVENT) }\
DVES_4B31BB:stat/obi-wlan1/UPGRADE:.* { json2nameValue($EVENT) }
attr MQTT2_DVES_4B31BB room Tasmota,Urlaub
attr MQTT2_DVES_4B31BB setList off:noArg    cmnd/obi-wlan1/POWER1 0\
  on:noArg     cmnd/obi-wlan1/POWER1 1\
  toggle:noArg cmnd/obi-wlan1/POWER1 2
attr MQTT2_DVES_4B31BB setStateList on off toggle
attr MQTT2_DVES_4B31BB sortby 4
attr MQTT2_DVES_4B31BB stateFormat {my $state = lc ReadingsVal($name, "POWER1", "off");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>"\
}
attr MQTT2_DVES_4B31BB userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_4B31BB webCmd toggle

define MQTT2_DVES_EAA928 MQTT2_DEVICE DVES_EAA928
setuuid MQTT2_DVES_EAA928 5c6b2376-f33f-47a6-03f8-9f051ecaaae9d2f4
attr MQTT2_DVES_EAA928 DbLogInclude ENERGY_Power
attr MQTT2_DVES_EAA928 IODev broker
attr MQTT2_DVES_EAA928 alias Fernseher & Peripherie
attr MQTT2_DVES_EAA928 autocreate 1
attr MQTT2_DVES_EAA928 event-on-change-reading .*
attr MQTT2_DVES_EAA928 icon mqtt_device
attr MQTT2_DVES_EAA928 readingList tele/sonoff-pow1/LWT:.* LWT\
  tele/sonoff-pow1/STATE:.* { json2nameValue($EVENT) }\
  tele/sonoff-pow1/SENSOR:.* { json2nameValue($EVENT) }\
  tele/sonoff-pow1/INFO.:.* { json2nameValue($EVENT) }\
  stat/sonoff-pow1/RESULT:.* { json2nameValue($EVENT) }\
DVES_EAA928:cmnd/sonoff-pow1/POWER:.* POWER\
DVES_EAA928:tasmota/discovery/BCDDC2EAA928/config:.* { json2nameValue($EVENT) }\
DVES_EAA928:tasmota/discovery/BCDDC2EAA928/sensors:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS1:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS2:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS3:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS4:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS5:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS6:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS7:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS9:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS10:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/STATUS11:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/UPGRADE:.* { json2nameValue($EVENT) }\
DVES_EAA928:stat/sonoff-pow1/POWER1:.* POWER1
attr MQTT2_DVES_EAA928 room Tasmota,Urlaub
attr MQTT2_DVES_EAA928 setList off:noArg    cmnd/sonoff-pow1/POWER1 0\
  on:noArg     cmnd/sonoff-pow1/POWER1 1\
  toggle:noArg cmnd/sonoff-pow1/POWER1 2
attr MQTT2_DVES_EAA928 setStateList on off toggle
attr MQTT2_DVES_EAA928 sortby 1
attr MQTT2_DVES_EAA928 stateFormat {my $state = lc ReadingsVal($name, "state", "off");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
ReadingsVal($name,"ENERGY_Power",-1), \
ReadingsVal($name,"ENERGY_Today",-1)\
)\
}
attr MQTT2_DVES_EAA928 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_EAA928 webCmd toggle

define MQTT2_DVES_14C6B8 MQTT2_DEVICE DVES_14C6B8
setuuid MQTT2_DVES_14C6B8 5c6b2377-f33f-47a6-a8d6-90150af640f17e4c
attr MQTT2_DVES_14C6B8 DbLogInclude ENERGY_Power
attr MQTT2_DVES_14C6B8 IODev broker
attr MQTT2_DVES_14C6B8 alias Computer & Peripherie
attr MQTT2_DVES_14C6B8 autocreate 1
attr MQTT2_DVES_14C6B8 event-on-change-reading .*
attr MQTT2_DVES_14C6B8 icon mqtt_device
attr MQTT2_DVES_14C6B8 readingList tele/sonoff-pow2/LWT:.* LWT\
  tele/sonoff-pow2/STATE:.* { json2nameValue($EVENT) }\
  tele/sonoff-pow2/SENSOR:.* { json2nameValue($EVENT) }\
  tele/sonoff-pow2/INFO.:.* { json2nameValue($EVENT) }\
  stat/sonoff-pow2/RESULT:.* { json2nameValue($EVENT) }\
DVES_14C6B8:tele/sonoff-pow2/MARGINS:.* { json2nameValue($EVENT) }\
DVES_14C6B8:cmnd/sonoff-pow2/POWER:.* POWER\
DVES_14C6B8:tasmota/discovery/B4E62D14C6B8/config:.* { json2nameValue($EVENT) }\
DVES_14C6B8:tasmota/discovery/B4E62D14C6B8/sensors:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS1:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS2:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS3:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS4:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS5:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS6:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS7:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS9:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS10:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/STATUS11:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/UPGRADE:.* { json2nameValue($EVENT) }\
DVES_14C6B8:stat/sonoff-pow2/POWER1:.* POWER1
attr MQTT2_DVES_14C6B8 room Tasmota,Urlaub
attr MQTT2_DVES_14C6B8 setList off:noArg    cmnd/sonoff-pow2/POWER1 0\
  on:noArg     cmnd/sonoff-pow2/POWER1 1\
  toggle:noArg cmnd/sonoff-pow2/POWER1 2
attr MQTT2_DVES_14C6B8 setStateList on off toggle
attr MQTT2_DVES_14C6B8 sortby 2
attr MQTT2_DVES_14C6B8 stateFormat {my $state = lc ReadingsVal($name, "state", "off");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
ReadingsVal($name,"ENERGY_Power",-1), \
ReadingsVal($name,"ENERGY_Today",-1)\
)\
}
attr MQTT2_DVES_14C6B8 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_14C6B8 webCmd toggle

define MQTT2_DVES_0371A9 MQTT2_DEVICE DVES_0371A9
setuuid MQTT2_DVES_0371A9 5dc47b52-f33f-d8e9-fa1d-5ee57920d71db634
attr MQTT2_DVES_0371A9 DbLogInclude ENERGY_Power,ENERGY_Yesterday
attr MQTT2_DVES_0371A9 IODev broker
attr MQTT2_DVES_0371A9 alias Kühlschrank
attr MQTT2_DVES_0371A9 autocreate 1
attr MQTT2_DVES_0371A9 event-on-change-reading .*
attr MQTT2_DVES_0371A9 icon mqtt_device
attr MQTT2_DVES_0371A9 readingList tele/gosund-sp111-02/LWT:.* LWT\
  tele/gosund-sp111-02/STATE:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-02/SENSOR:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-02/INFO.:.* { json2nameValue($EVENT) }\
  stat/gosund-sp111-02/RESULT:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/POWER1:.* POWER1\
DVES_0371A9:stat/gosund-sp111-02/STATUS:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/STATUS1:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/STATUS2:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/STATUS3:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/STATUS4:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/STATUS5:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/STATUS6:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/STATUS7:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/STATUS9:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/STATUS10:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/STATUS11:.* { json2nameValue($EVENT) }\
DVES_0371A9:cmnd/gosund-sp111-02/POWER:.* POWER\
DVES_0371A9:tasmota/discovery/2462AB0371A9/config:.* { json2nameValue($EVENT) }\
DVES_0371A9:tasmota/discovery/2462AB0371A9/sensors:.* { json2nameValue($EVENT) }\
DVES_0371A9:stat/gosund-sp111-02/UPGRADE:.* { json2nameValue($EVENT) }
attr MQTT2_DVES_0371A9 room Tasmota,Urlaub
attr MQTT2_DVES_0371A9 setList off:noArg    cmnd/gosund-sp111-02/POWER1 0\
  on:noArg     cmnd/gosund-sp111-02/POWER1 1\
  toggle:noArg cmnd/gosund-sp111-02/POWER1 2
attr MQTT2_DVES_0371A9 setStateList on off toggle
attr MQTT2_DVES_0371A9 sortby 5
attr MQTT2_DVES_0371A9 stateFormat {my $state = lc ReadingsVal($name, "state", "off");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
ReadingsVal($name,"ENERGY_Power",-1), \
ReadingsVal($name,"ENERGY_Today",-1)\
)\
}
attr MQTT2_DVES_0371A9 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_0371A9 webCmd toggle

define MQTT2_DVES_02F335 MQTT2_DEVICE DVES_02F335
setuuid MQTT2_DVES_02F335 5dc47b56-f33f-d8e9-f421-eaf6a57dd6885ee1
attr MQTT2_DVES_02F335 DbLogInclude ENERGY_Power
attr MQTT2_DVES_02F335 IODev broker
attr MQTT2_DVES_02F335 alias Synology NAS
attr MQTT2_DVES_02F335 autocreate 1
attr MQTT2_DVES_02F335 event-on-change-reading .*
attr MQTT2_DVES_02F335 icon mqtt_device
attr MQTT2_DVES_02F335 readingList tele/gosund-sp111-01/LWT:.* LWT\
  tele/gosund-sp111-01/STATE:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-01/SENSOR:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-01/INFO.:.* { json2nameValue($EVENT) }\
  stat/gosund-sp111-01/RESULT:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS1:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS2:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS3:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS4:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS5:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS6:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS7:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS9:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS10:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/STATUS11:.* { json2nameValue($EVENT) }\
DVES_02F335:cmnd/gosund-sp111-01/POWER:.* POWER\
DVES_02F335:tasmota/discovery/2462AB02F335/config:.* { json2nameValue($EVENT) }\
DVES_02F335:tasmota/discovery/2462AB02F335/sensors:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/UPGRADE:.* { json2nameValue($EVENT) }\
DVES_02F335:stat/gosund-sp111-01/POWER1:.* POWER1
attr MQTT2_DVES_02F335 room Tasmota
attr MQTT2_DVES_02F335 setList off:noArg    cmnd/gosund-sp111-01/POWER1 0\
  on:noArg     cmnd/gosund-sp111-01/POWER1 1\
  toggle:noArg cmnd/gosund-sp111-01/POWER1 2
attr MQTT2_DVES_02F335 setStateList on off toggle
attr MQTT2_DVES_02F335 sortby 3
attr MQTT2_DVES_02F335 stateFormat {my $state = lc ReadingsVal($name, "state", "off");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
ReadingsVal($name,"ENERGY_Power",-1), \
ReadingsVal($name,"ENERGY_Today",-1)\
)\
}
attr MQTT2_DVES_02F335 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_02F335 webCmd toggle

define rgVerbraucher readingsGroup <Verbraucher>,<Status>,<Verbrauch>\
TYPE=MQTT2_DEVICE:POWER1,ENERGY_Power\
rgVerbraucher:$sum(:2)@Summe
setuuid rgVerbraucher 5dc6ca84-f33f-d8e9-d86c-6c8078ed793995f7
attr rgVerbraucher alias Verbraucher
attr rgVerbraucher group Strom
attr rgVerbraucher noheading 1
attr rgVerbraucher room Dashboard
attr rgVerbraucher sortDevices 1
attr rgVerbraucher style style="border:0px;;background:none;;box-shadow:none"
attr rgVerbraucher valueFormat {ENERGY_Power => "%.0fW", Summe => "%.0fW"}
attr rgVerbraucher valueIcon {\
	'POWER1.on' => 'ios-on-green',\
	'POWER1.off' => 'ios-off'\
}
attr rgVerbraucher valueStyle style="text-align:right"

define MQTT2_DVES_A4CAD6 MQTT2_DEVICE DVES_A4CAD6
setuuid MQTT2_DVES_A4CAD6 5dc9dc0a-f33f-d8e9-4e65-7d31a3d77782b6cb
attr MQTT2_DVES_A4CAD6 DbLogInclude ENERGY_Power
attr MQTT2_DVES_A4CAD6 IODev broker
attr MQTT2_DVES_A4CAD6 alias Waschmaschine
attr MQTT2_DVES_A4CAD6 autocreate 1
attr MQTT2_DVES_A4CAD6 event-on-change-reading .*
attr MQTT2_DVES_A4CAD6 icon mqtt_device
attr MQTT2_DVES_A4CAD6 readingList tele/gosund-sp111-03/LWT:.* LWT\
  tele/gosund-sp111-03/STATE:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-03/SENSOR:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-03/INFO.:.* { json2nameValue($EVENT) }\
  stat/gosund-sp111-03/RESULT:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:cmnd/gosund-sp111-03/POWER:.* POWER\
DVES_A4CAD6:stat/gosund-sp111-03/POWER1:.* POWER1\
DVES_A4CAD6:tasmota/discovery/D8F15BA4CAD6/config:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:tasmota/discovery/D8F15BA4CAD6/sensors:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS1:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS2:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS3:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS4:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS5:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS6:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS7:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS9:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS10:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/STATUS11:.* { json2nameValue($EVENT) }\
DVES_A4CAD6:stat/gosund-sp111-03/UPGRADE:.* { json2nameValue($EVENT) }
attr MQTT2_DVES_A4CAD6 room Tasmota
attr MQTT2_DVES_A4CAD6 setList off:noArg    cmnd/gosund-sp111-03/POWER1 0\
  on:noArg     cmnd/gosund-sp111-03/POWER1 1\
  toggle:noArg cmnd/gosund-sp111-03/POWER1 2
attr MQTT2_DVES_A4CAD6 setStateList on off toggle
attr MQTT2_DVES_A4CAD6 sortby 6
attr MQTT2_DVES_A4CAD6 stateFormat {\
	my $state = lc ReadingsVal($name, "state", "off");;\
	my $online = lc ReadingsVal($name, "LWT", "Offline");;\
	my $devStateIcon = 'ios-on-green.png';;\
	if ($state eq "off")\
	{\
		$devStateIcon = 'ios-off.png';;\
	}\
	if ($online eq "Offline")\
	{\
		$devStateIcon = 'ios-NACKK.png';;\
	}\
	"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
	"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
	ReadingsVal($name,"ENERGY_Power",-1), \
	ReadingsVal($name,"ENERGY_Today",-1)\
	)\
}
attr MQTT2_DVES_A4CAD6 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_A4CAD6 webCmd toggle

define MQTT2_DVES_350EBD MQTT2_DEVICE DVES_350EBD
setuuid MQTT2_DVES_350EBD 5dc9dc0a-f33f-d8e9-3f9c-ee834ef0f2e9b1eb
attr MQTT2_DVES_350EBD DbLogInclude ENERGY_Power
attr MQTT2_DVES_350EBD IODev broker
attr MQTT2_DVES_350EBD alias Trockner
attr MQTT2_DVES_350EBD autocreate 1
attr MQTT2_DVES_350EBD event-on-change-reading .*
attr MQTT2_DVES_350EBD icon mqtt_device
attr MQTT2_DVES_350EBD readingList tele/gosund-sp111-04/LWT:.* LWT\
  tele/gosund-sp111-04/STATE:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-04/SENSOR:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-04/INFO.:.* { json2nameValue($EVENT) }\
  stat/gosund-sp111-04/RESULT:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS1:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS2:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS3:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS4:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS5:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS6:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS7:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS9:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS10:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/STATUS11:.* { json2nameValue($EVENT) }\
DVES_350EBD:cmnd/gosund-sp111-04/POWER:.* POWER\
DVES_350EBD:tasmota/discovery/2462AB350EBD/config:.* { json2nameValue($EVENT) }\
DVES_350EBD:tasmota/discovery/2462AB350EBD/sensors:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/UPGRADE:.* { json2nameValue($EVENT) }\
DVES_350EBD:stat/gosund-sp111-04/POWER1:.* POWER1
attr MQTT2_DVES_350EBD room Tasmota
attr MQTT2_DVES_350EBD setList off:noArg    cmnd/gosund-sp111-04/POWER1 0\
on:noArg     cmnd/gosund-sp111-04/POWER1 1\
toggle:noArg cmnd/gosund-sp111-04/POWER1 2
attr MQTT2_DVES_350EBD setStateList on off toggle
attr MQTT2_DVES_350EBD sortby 7
attr MQTT2_DVES_350EBD stateFormat {my $state = lc ReadingsVal($name, "state", "on");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
ReadingsVal($name,"ENERGY_Power",-1), \
ReadingsVal($name,"ENERGY_Today",-1)\
)\
}
attr MQTT2_DVES_350EBD userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_350EBD webCmd toggle

define doifWaschmaschine DOIF ([MQTT2_DVES_A4CAD6:ENERGY_Power] > 8)\
(\
	set $SELF washState running,\
	set $SELF start_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))}\
)\
DOELSEIF ([MQTT2_DVES_A4CAD6:ENERGY_Power] < 8)\
(\
	set $SELF washState finish,\
	set $SELF end_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))},\
	set $SELF lastRun_timestamp {(TimeNow())},\
	set $SELF lastRun_kWh {(sprintf ('%.3f',(ReadingsVal("$SELF","end_kWh",0) - ReadingsVal("$SELF","start_kWh",0))))}\
)
setuuid doifWaschmaschine 5d0a6078-f33f-47a6-19ee-bb4e8ad36efc0d8d
attr doifWaschmaschine alias Status Waschmaschine
attr doifWaschmaschine cmdState running|finish
attr doifWaschmaschine icon helper_doif
attr doifWaschmaschine readingList washState start_kWh end_kWh lastRun_kWh lastRun_timestamp
attr doifWaschmaschine room Tasmota
attr doifWaschmaschine sortby 1
attr doifWaschmaschine wait 90:300

define doifTrockner DOIF ([MQTT2_DVES_350EBD:ENERGY_Power] > 500)\
(\
	set $SELF washState running,\
	set $SELF start_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))}\
)\
DOELSEIF ([MQTT2_DVES_350EBD:ENERGY_Power] < 500)\
(\
	set $SELF washState finish,\
	set $SELF end_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))},\
	set $SELF lastRun_timestamp {(TimeNow())},\
	set $SELF lastRun_kWh {(sprintf ('%.3f',(ReadingsVal("$SELF","end_kWh",0) - ReadingsVal("$SELF","start_kWh",0))))}\
)
setuuid doifTrockner 5d0a6078-f33f-47a6-ef70-0d50a532fba8dd15
attr doifTrockner alias Status Trockner
attr doifTrockner cmdState running|finish
attr doifTrockner icon helper_doif
attr doifTrockner readingList washState start_kWh end_kWh lastRun_kWh lastRun_timestamp
attr doifTrockner room Tasmota
attr doifTrockner sortby 2
attr doifTrockner wait 45:300

### Telegram
define telegramBot TelegramBot
setuuid telegramBot 5d988d43-f33f-d8e9-aab6-8f5a1b30f23cdaad
attr telegramBot allowUnknownContacts 0
attr telegramBot comment Christina_Söhrens msgPeerId 9757988\
Carsten_Söhrens msgPeerId 9437849\
Gruppe #Heimautomatisierung msgChatId -683449865
attr telegramBot defaultPeer 9437849
attr telegramBot event-on-change-reading state
attr telegramBot event-on-update-reading msgText
attr telegramBot icon telegram
attr telegramBot pollingTimeout 120
attr telegramBot room Telegram

define notifyFhemReload notify global:INITIALIZED set telegramBot message FHEM wurde neu gestartet
setuuid notifyFhemReload 5d988f6a-f33f-d8e9-5f1d-d8f038daeeec8af4
attr notifyFhemReload room Telegram

define watchdogBuegeleisen watchdog MQTT2_DVES_4B31BB:on 00:60:00 MQTT2_DVES_4B31BB:off set MQTT2_DVES_4B31BB off
setuuid watchdogBuegeleisen 5e24c0d1-f33f-d8e9-e6dc-7eaf28d7d9b1d83a
attr watchdogBuegeleisen alias Zeitabschaltung Bügeleisen
attr watchdogBuegeleisen autoRestart 1
attr watchdogBuegeleisen devStateIcon {AttrVal($name,'disable','0') eq "0" ? ".*:general_an\@orange" : ".*:general_aus\@grey"}
attr watchdogBuegeleisen disable 1
attr watchdogBuegeleisen room Tasmota

define notifyBuegeleisenAn notify MQTT2_DVES_4B31BB:on set telegramBot message Bügeleisen an
setuuid notifyBuegeleisenAn 5e24c9c7-f33f-d8e9-7ba1-7c602c14ac076461
attr notifyBuegeleisenAn disable 1
attr notifyBuegeleisenAn room Telegram

define notifyBuegeleisenAus notify MQTT2_DVES_4B31BB:off set telegramBot message Bügeleisen aus
setuuid notifyBuegeleisenAus 5e24cd51-f33f-d8e9-e6a6-c69730f55e0873af
attr notifyBuegeleisenAus disable 1
attr notifyBuegeleisenAus room Telegram

define myPlot_Umwaelzpumpe SVG logdb:myPlot_Umwaelzpumpe:HISTORY
setuuid myPlot_Umwaelzpumpe 5e2896bb-f33f-d8e9-8d71-da016be49b821204
attr myPlot_Umwaelzpumpe comment ### Wenn man den Plot über die Oberfläche bearbeitet, geht die Umwandlung\
### der Werte in 0 und 1 verloren. Dann muss man im gplot-File den logdb-\
### Eintrag mit der folgenden Zeile ersetzen.\
\
#logdb MQTT2_DVES_4B31BB:POWER1:::$val=($val=~"on"?1:0)
attr myPlot_Umwaelzpumpe endPlotToday 1
attr myPlot_Umwaelzpumpe fixedrange week
attr myPlot_Umwaelzpumpe room Plots->Umwälzpumpe

define WetterProplanta PROPLANTA Aachen de
setuuid WetterProplanta 5e400951-f33f-d8e9-f7c0-9d74418607732c7f
attr WetterProplanta room Wetter

define VorschauProplanta weblink htmlCode {PROPLANTA_Html("WetterProplanta",7)}
setuuid VorschauProplanta 5e4009a5-f33f-d8e9-722d-67dd1eaf00421752
attr VorschauProplanta room Wetter

define myPlot_VerbrauchProTag SVG logdb:myPlot_VerbrauchProTag:HISTORY
setuuid myPlot_VerbrauchProTag 5e541bcc-f33f-d8e9-31c1-8d6e639fe13bcfb1
attr myPlot_VerbrauchProTag endPlotToday 1
attr myPlot_VerbrauchProTag fixedrange year
attr myPlot_VerbrauchProTag room Plots->Zähler


define watchdog systemd_watchdog
setuuid watchdog 5e9195f5-f33f-d8e9-410b-554a7f1260b803c9
attr watchdog room System

define rg readingsGroup <Device>,<Wert>,<Summe>,<Min>,<Max>,<Avg>\
t\d:+NAME,state,$sum(1..$ROW:2),$min(1..$ROW:2),$max(1..$ROW:2),$avg(1..$ROW:2)\
<hr>\
rg:<>,$scalar,$sum(:2)@SUM,$min(:2)@MIN,$max(:2)@MAX,$avg(:2)@AVG\

setuuid rg 5e9427fb-f33f-d8e9-90df-23cc39dcfc5ebfd4
attr rg group Demo-Tabelle
attr rg nonames 1
attr rg room Test
attr rg style style='text-align:center'
attr rg valueFormat { 'avg' => '%.2f', 'AVG' => '%.2f' }
attr rg valuePrefix { 'rg.scalar' => '#', 'rg.SUM' =>'&Sigma;; ', 'rg.MIN' =>'Min: ', 'rg.MAX' =>'Max: ', 'rg.AVG' =>'&empty;; ', 'rg.count' => '#(X): ' }
attr rg valueSuffix { state => '&deg;;C' }

define t1 dummy
setuuid t1 5e9427fb-f33f-d8e9-f686-b74622414e7e08dd
attr t1 group Demo-Tabelle
attr t1 room Test
attr t1 setList state:slider,-10,1,30
attr t1 webCmd state

define t2 dummy
setuuid t2 5e9427fb-f33f-d8e9-9e47-d3d2f6fc3bb482be
attr t2 group Demo-Tabelle
attr t2 room Test
attr t2 setList state:slider,0,1,100
attr t2 webCmd state

define t3 dummy
setuuid t3 5e9427fb-f33f-d8e9-ff5f-c85d1fc037341be2
attr t3 group Demo-Tabelle
attr t3 room Test
attr t3 setList state:slider,-10,1,30
attr t3 webCmd state

define iconDemo dummy
setuuid iconDemo 5e948671-f33f-d8e9-7a5c-537a21482db68736
attr iconDemo devStateIcon 1.on:on:on1+off 1.off:off@grey:on1+on 2.on:on:on2+off 2.off:off@grey:on2+on 3.on:on:on3+off 3.off:off@grey:on3+on ok:batterie@green low:batterie@red
attr iconDemo group Demo-Icons
attr iconDemo readingList on1 on2 on3 battery
attr iconDemo room Test
attr iconDemo setList on1:on,off on2:on,off on3:on,off battery:low,ok
attr iconDemo stateFormat 1:on1\
2:on2\
3:on3\
<br>\
temperature&deg;;C\
battery
attr iconDemo webCmd on1:on2:on3:battery

define TABLETUI HTTPSRV ftui/ ./www/tablet/ Tablet-UI
setuuid TABLETUI 5e980c59-f33f-d8e9-cd8f-9aaaa29e19a1d400
attr TABLETUI room System

define ftuitest dummy
setuuid ftuitest 5eb078ee-f33f-d8e9-5bbe-8702f691131b8688
attr ftuitest group Tablet-UI
attr ftuitest room Test

define wdt_Umwaelzpumpe WeekdayTimer MQTT2_DVES_4B31BB !$we|06:15|on !$we|08:45|off !$we|11:30|on !$we|13:30|off !$we|17:30|on $we|08:00|on $we|19:30|off 19:30|off
setuuid wdt_Umwaelzpumpe 5f7ac87d-f33f-d8e9-6777-55399d01467fc585
attr wdt_Umwaelzpumpe alias Zeitschaltung Umwälzpumpe
attr wdt_Umwaelzpumpe commandTemplate set $NAME  $EVENT
attr wdt_Umwaelzpumpe devStateIcon {AttrVal($name,'disable','0') eq "0" ? ".*:general_an\@orange" : ".*:general_aus\@grey"}
attr wdt_Umwaelzpumpe disable 1
attr wdt_Umwaelzpumpe room Tasmota,Urlaub
attr wdt_Umwaelzpumpe webCmd enable:disable

define rgTimer readingsGroup <>,<State>,<Next Update>,<Next Value> TYPE=WeekdayTimer:state,nextUpdate,nextValue
setuuid rgTimer 5f7cda4d-f33f-d8e9-f4e9-d4202aab210fffa0
attr rgTimer alias Wochentimer
attr rgTimer icon Prev
attr rgTimer room Tasmota,Urlaub
attr rgTimer sortby 1
attr rgTimer valueFormat { if ( $READING =~ m/.*DEF/ ) { my @text = split(" ", $VALUE);; shift @text;; return join(" ", @text) }}

define myPlot_Fritzbox_Bandbreite SVG lp:myPlot_Fritzbox_Bandbreite:HISTORY
setuuid myPlot_Fritzbox_Bandbreite 6007051d-f33f-d8e9-b7f8-72ee5744d8f7d00a
attr myPlot_Fritzbox_Bandbreite room Plots->FritzBox,FritzBox


define wol_synology WOL 00:11:32:A8:58:2A 192.168.2.64
setuuid wol_synology 60789c6c-f33f-d8e9-1bd5-ad1940a9960a3d65
attr wol_synology alias Synology NAS
attr wol_synology devStateIcon on:general_an@orange:off off:general_aus@grey:on
attr wol_synology icon it_nas
attr wol_synology interval 60
attr wol_synology room Synology
attr wol_synology webCmd on

define myPlot_Kuehlschrank2 SVG logdb:myPlot_Kuehlschrank2:HISTORY
setuuid myPlot_Kuehlschrank2 60d1fc45-f33f-d8e9-a59a-4e72ac9e3d374aee
attr myPlot_Kuehlschrank2 endPlotToday 1
attr myPlot_Kuehlschrank2 fixedrange month
attr myPlot_Kuehlschrank2 room Plots->Kühlschrank
attr myPlot_Kuehlschrank2 sortby 2

define wdt_Kuehlschrank WeekdayTimer MQTT2_DVES_0371A9 06|13:00|on 1234|17:00|on 5|15:00|on 01234|22:00|off 06|01:00|off
setuuid wdt_Kuehlschrank 60d243b9-f33f-d8e9-f968-56a140ea41006f3e
attr wdt_Kuehlschrank alias Zeitschaltung Kühlschrank
attr wdt_Kuehlschrank commandTemplate set $NAME  $EVENT
attr wdt_Kuehlschrank devStateIcon {AttrVal($name,'disable','0') eq "0" ? ".*:general_an\@orange" : ".*:general_aus\@grey"}
attr wdt_Kuehlschrank disable 1
attr wdt_Kuehlschrank room Urlaub,Tasmota
attr wdt_Kuehlschrank webCmd enable:disable

### Sonos
define Sonos SONOS localhost:4711 45
setuuid Sonos 612a0d0f-f33f-d8e9-3932-56690e53dc2ffd7a
attr Sonos alias Sonos
attr Sonos room Sonos->Wohnzimmer
attr Sonos verbose 0

define Sonos_Haukes_Zimmer SONOSPLAYER RINCON_7828CAC1D20C01400_MR
setuuid Sonos_Haukes_Zimmer 612a0d1b-f33f-d8e9-a9d3-bc5c6c85800af087
attr Sonos_Haukes_Zimmer alias Hauke‘s Zimmer
attr Sonos_Haukes_Zimmer generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Haukes_Zimmer generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Haukes_Zimmer generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Haukes_Zimmer generateVolumeEvent 1
attr Sonos_Haukes_Zimmer generateVolumeSlider 1
attr Sonos_Haukes_Zimmer getAlarms 1
attr Sonos_Haukes_Zimmer getTitleInfoFromMaster 1
attr Sonos_Haukes_Zimmer group Haukes Zimmer
attr Sonos_Haukes_Zimmer icon icoSONOSPLAYER_icon-S13.png
attr Sonos_Haukes_Zimmer minVolume 0
attr Sonos_Haukes_Zimmer model Sonos_S13
attr Sonos_Haukes_Zimmer room Sonos->Alle Räume,Sonos->Haukes Zimmer
attr Sonos_Haukes_Zimmer simulateCurrentTrackPosition 0
attr Sonos_Haukes_Zimmer sortby 1
attr Sonos_Haukes_Zimmer stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Haukes_Zimmer userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Haukes_Zimmer webCmd Volume

define Sonos_Haukes_ZimmerRG_Favourites readingsGroup Sonos_Haukes_Zimmer:<{SONOS_getListRG($DEVICE,"Favourites",1)}@Favourites>
setuuid Sonos_Haukes_ZimmerRG_Favourites 612a0d1b-f33f-d8e9-8552-27941a2c9dd354ef
attr Sonos_Haukes_ZimmerRG_Favourites room Sonos->Haukes Zimmer

define Sonos_Haukes_ZimmerRG_Radios readingsGroup Sonos_Haukes_Zimmer:<{SONOS_getListRG($DEVICE,"Radios",1)}@Radios>
setuuid Sonos_Haukes_ZimmerRG_Radios 612a0d1b-f33f-d8e9-c90b-237554986f83d8a3
attr Sonos_Haukes_ZimmerRG_Radios room Sonos->Haukes Zimmer

define Sonos_Haukes_ZimmerRG_Playlists readingsGroup Sonos_Haukes_Zimmer:<{SONOS_getListRG($DEVICE,"Playlists")}@Playlists>
setuuid Sonos_Haukes_ZimmerRG_Playlists 612a0d1b-f33f-d8e9-a15b-23ee32e5d0f189c1
attr Sonos_Haukes_ZimmerRG_Playlists room Sonos->Haukes Zimmer

define Sonos_Haukes_ZimmerRG_Queue readingsGroup Sonos_Haukes_Zimmer:<{SONOS_getListRG($DEVICE,"Queue")}@Queue>
setuuid Sonos_Haukes_ZimmerRG_Queue 612a0d1b-f33f-d8e9-3817-8d19ee338c79e8cb
attr Sonos_Haukes_ZimmerRG_Queue room Sonos->Haukes Zimmer

define Sonos_Wohnzimmer_RR SONOSPLAYER RINCON_5CAAFD2E263C01400_MR
setuuid Sonos_Wohnzimmer_RR 612a0d1b-f33f-d8e9-3d25-c285bae41d9747f0
attr Sonos_Wohnzimmer_RR alias Wohnzimmer - Hinten Rechts
attr Sonos_Wohnzimmer_RR generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer_RR generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer_RR generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer_RR generateVolumeEvent 1
attr Sonos_Wohnzimmer_RR generateVolumeSlider 1
attr Sonos_Wohnzimmer_RR getAlarms 1
attr Sonos_Wohnzimmer_RR getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer_RR group Wohnzimmer
attr Sonos_Wohnzimmer_RR icon icoSONOSPLAYER_icon-S1.png
attr Sonos_Wohnzimmer_RR minVolume 0
attr Sonos_Wohnzimmer_RR model Sonos_S1
attr Sonos_Wohnzimmer_RR room Sonos->Wohnzimmer
attr Sonos_Wohnzimmer_RR simulateCurrentTrackPosition 0
attr Sonos_Wohnzimmer_RR sortby 1
attr Sonos_Wohnzimmer_RR stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer_RR userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer_RR webCmd Volume

define Sonos_Wohnzimmer_LR SONOSPLAYER RINCON_B8E937ECFF1E01400_MR
setuuid Sonos_Wohnzimmer_LR 612a0d1d-f33f-d8e9-9b81-739de4dc87d084b5
attr Sonos_Wohnzimmer_LR alias Wohnzimmer - Hinten Links
attr Sonos_Wohnzimmer_LR generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer_LR generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer_LR generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer_LR generateVolumeEvent 1
attr Sonos_Wohnzimmer_LR generateVolumeSlider 1
attr Sonos_Wohnzimmer_LR getAlarms 1
attr Sonos_Wohnzimmer_LR getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer_LR group Wohnzimmer
attr Sonos_Wohnzimmer_LR icon icoSONOSPLAYER_icon-S1.png
attr Sonos_Wohnzimmer_LR minVolume 0
attr Sonos_Wohnzimmer_LR model Sonos_S1
attr Sonos_Wohnzimmer_LR room Sonos->Wohnzimmer
attr Sonos_Wohnzimmer_LR simulateCurrentTrackPosition 0
attr Sonos_Wohnzimmer_LR sortby 1
attr Sonos_Wohnzimmer_LR stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer_LR userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer_LR webCmd Volume

define Sonos_Marits_Zimmer SONOSPLAYER RINCON_7828CAC1D06001400_MR
setuuid Sonos_Marits_Zimmer 612a0d1e-f33f-d8e9-c21f-de1e22cf437db47b
attr Sonos_Marits_Zimmer alias Marit‘s Zimmer
attr Sonos_Marits_Zimmer generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Marits_Zimmer generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Marits_Zimmer generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Marits_Zimmer generateVolumeEvent 1
attr Sonos_Marits_Zimmer generateVolumeSlider 1
attr Sonos_Marits_Zimmer getAlarms 1
attr Sonos_Marits_Zimmer getTitleInfoFromMaster 1
attr Sonos_Marits_Zimmer group Marits Zimmer
attr Sonos_Marits_Zimmer icon icoSONOSPLAYER_icon-S13.png
attr Sonos_Marits_Zimmer minVolume 0
attr Sonos_Marits_Zimmer model Sonos_S13
attr Sonos_Marits_Zimmer room Sonos->Alle Räume,Sonos->Marits Zimmer
attr Sonos_Marits_Zimmer simulateCurrentTrackPosition 0
attr Sonos_Marits_Zimmer sortby 1
attr Sonos_Marits_Zimmer stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Marits_Zimmer userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Marits_Zimmer webCmd Volume

define Sonos_Marits_ZimmerRG_Favourites readingsGroup Sonos_Marits_Zimmer:<{SONOS_getListRG($DEVICE,"Favourites",1)}@Favourites>
setuuid Sonos_Marits_ZimmerRG_Favourites 612a0d1e-f33f-d8e9-d0bf-289434bb390468f7
attr Sonos_Marits_ZimmerRG_Favourites room Sonos->Marits Zimmer

define Sonos_Marits_ZimmerRG_Radios readingsGroup Sonos_Marits_Zimmer:<{SONOS_getListRG($DEVICE,"Radios",1)}@Radios>
setuuid Sonos_Marits_ZimmerRG_Radios 612a0d1e-f33f-d8e9-004f-75a4de159bd82cf5
attr Sonos_Marits_ZimmerRG_Radios room Sonos->Marits Zimmer

define Sonos_Marits_ZimmerRG_Playlists readingsGroup Sonos_Marits_Zimmer:<{SONOS_getListRG($DEVICE,"Playlists")}@Playlists>
setuuid Sonos_Marits_ZimmerRG_Playlists 612a0d1f-f33f-d8e9-0561-fa229970659dd375
attr Sonos_Marits_ZimmerRG_Playlists room Sonos->Marits Zimmer

define Sonos_Marits_ZimmerRG_Queue readingsGroup Sonos_Marits_Zimmer:<{SONOS_getListRG($DEVICE,"Queue")}@Queue>
setuuid Sonos_Marits_ZimmerRG_Queue 612a0d1f-f33f-d8e9-0462-87a861dbec054c91
attr Sonos_Marits_ZimmerRG_Queue room Sonos->Marits Zimmer

define Sonos_Wohnzimmer SONOSPLAYER RINCON_5CAAFDAB59C501400_MR
setuuid Sonos_Wohnzimmer 612a0d20-f33f-d8e9-9352-6676e8e2dd78e1ed
attr Sonos_Wohnzimmer alias Wohnzimmer - Mitte
attr Sonos_Wohnzimmer generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer generateVolumeEvent 1
attr Sonos_Wohnzimmer generateVolumeSlider 1
attr Sonos_Wohnzimmer getAlarms 1
attr Sonos_Wohnzimmer getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer group Wohnzimmer
attr Sonos_Wohnzimmer icon icoSONOSPLAYER_icon-S9.png
attr Sonos_Wohnzimmer minVolume 0
attr Sonos_Wohnzimmer model Sonos_S9
attr Sonos_Wohnzimmer room Sonos->Alle Räume,Sonos->Wohnzimmer
attr Sonos_Wohnzimmer simulateCurrentTrackPosition 0
attr Sonos_Wohnzimmer sortby 1
attr Sonos_Wohnzimmer stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer webCmd Volume

define Sonos_WohnzimmerRG_Favourites readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Favourites",1)}@Favourites>
setuuid Sonos_WohnzimmerRG_Favourites 612a0d20-f33f-d8e9-58f6-cbdb012426261a26
attr Sonos_WohnzimmerRG_Favourites room Sonos->Wohnzimmer

define Sonos_WohnzimmerRG_Radios readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Radios",1)}@Radios>
setuuid Sonos_WohnzimmerRG_Radios 612a0d20-f33f-d8e9-6a51-d5f37b9803c62121
attr Sonos_WohnzimmerRG_Radios room Sonos->Wohnzimmer

define Sonos_WohnzimmerRG_Playlists readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Playlists")}@Playlists>
setuuid Sonos_WohnzimmerRG_Playlists 612a0d20-f33f-d8e9-52ff-fa818c626c057690
attr Sonos_WohnzimmerRG_Playlists room Sonos->Wohnzimmer

define Sonos_WohnzimmerRG_Queue readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Queue")}@Queue>
setuuid Sonos_WohnzimmerRG_Queue 612a0d20-f33f-d8e9-5e15-9f63794481d4aaea
attr Sonos_WohnzimmerRG_Queue room Sonos->Wohnzimmer


define FBHA FBAHAHTTP 192.168.2.1
setuuid FBHA 617147d6-f33f-d8e9-8c0b-445adbbb20b5518d
attr FBHA fritzbox-user fritz
attr FBHA room FritzBox

define notifyWaschmaschineFertig notify doifWaschmaschine:finish set telegramBot message @-683449865 Waschmaschine fertig
setuuid notifyWaschmaschineFertig 61dd5bb5-f33f-d8e9-42c4-fc6fd7d1694effdb
attr notifyWaschmaschineFertig room Telegram

define notifyTrocknerFertig notify doifTrockner:finish set telegramBot message @-683449865 Trockner fertig
setuuid notifyTrocknerFertig 61dd5c06-f33f-d8e9-11d4-03bbafd6296959cc
attr notifyTrocknerFertig room Telegram

define messageWheather at *06:30:00 set telegramBot message @-683449865 Wetter aktuell: [WetterProplanta:weather]\nAußentemperatur: [WetterProplanta:temperature] Grad, Luftfeuchte [WetterProplanta:humidity]%\nVorhergesagte Temperatur heute: [WetterProplanta:fc0_tempMin] bis [WetterProplanta:fc0_tempMax] Grad\nRegenwahrscheinlichkeit: [WetterProplanta:fc1_chOfRain00]%\nPrognose morgens: [WetterProplanta:fc0_weatherMorning], tagsüber: [WetterProplanta:fc0_weatherDay], abends: [WetterProplanta:fc0_weatherEvening]
setuuid messageWheather 61dde578-f33f-d8e9-5b71-6af2131ced943726
attr messageWheather room Telegram
attr messageWheather verbose 0
define huebridge HUEBridge 192.168.2.75
setuuid huebridge 61e94b74-f33f-d8e9-1619-8d3190925e14eef5
attr huebridge httpUtils 1
attr huebridge icon hue_filled_bridge_v2
attr huebridge key y3-ulC-HYLnSNhkzD70SWDJIGsnkYzf7NXQyJlgp
attr huebridge room HUEDevice
attr huebridge verbose 0
define HUEDevice5 HUEDevice 5  IODev=huebridge
setuuid HUEDevice5 61eeefba-f33f-d8e9-40c1-970fbd8e875401f0
attr HUEDevice5 IODev huebridge
attr HUEDevice5 alias Hauke 1
attr HUEDevice5 color-icons 2
attr HUEDevice5 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice5 group HUEDevice
attr HUEDevice5 icon hue_filled_white_and_color_e27_b22
attr HUEDevice5 model LCT010
attr HUEDevice5 room HUEDevice
attr HUEDevice5 subType extcolordimmer
attr HUEDevice5 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off
define HUEDevice11 HUEDevice 11  IODev=huebridge
setuuid HUEDevice11 61eeefba-f33f-d8e9-5548-f43078ee20a04301
attr HUEDevice11 IODev huebridge
attr HUEDevice11 alias Arbeitszimmer 1
attr HUEDevice11 color-icons 2
attr HUEDevice11 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice11 group HUEDevice
attr HUEDevice11 icon hue_filled_gu10_par16
attr HUEDevice11 model LWG004
attr HUEDevice11 room HUEDevice
attr HUEDevice11 subType dimmer
attr HUEDevice11 webCmd pct:toggle:on:off
define HUEDevice17 HUEDevice 17  IODev=huebridge
setuuid HUEDevice17 61eeefba-f33f-d8e9-b652-048f917495768bab
attr HUEDevice17 IODev huebridge
attr HUEDevice17 alias Marit 1
attr HUEDevice17 color-icons 2
attr HUEDevice17 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice17 group HUEDevice
attr HUEDevice17 icon hue_filled_white_and_color_e27_b22
attr HUEDevice17 model LCT010
attr HUEDevice17 room HUEDevice
attr HUEDevice17 subType extcolordimmer
attr HUEDevice17 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off
define HUEDevice21 HUEDevice 21  IODev=huebridge
setuuid HUEDevice21 61eeefba-f33f-d8e9-28e4-238ed36c5397a86f
attr HUEDevice21 IODev huebridge
attr HUEDevice21 alias Wohnzimmer 2
attr HUEDevice21 color-icons 2
attr HUEDevice21 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice21 group HUEDevice
attr HUEDevice21 icon hue_filled_white_and_color_e27_b22
attr HUEDevice21 model LWA017
attr HUEDevice21 room HUEDevice
attr HUEDevice21 subType dimmer
attr HUEDevice21 webCmd pct:toggle:on:off
define HUEDevice25 HUEDevice 25  IODev=huebridge
setuuid HUEDevice25 61eeefba-f33f-d8e9-b879-e09338f7ef92740f
attr HUEDevice25 IODev huebridge
attr HUEDevice25 alias Wohnzimmer 3
attr HUEDevice25 color-icons 2
attr HUEDevice25 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice25 group HUEDevice
attr HUEDevice25 icon hue_filled_white_and_color_e27_b22
attr HUEDevice25 model LCT001
attr HUEDevice25 room HUEDevice
attr HUEDevice25 subType extcolordimmer
attr HUEDevice25 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off
define HUEDevice26 HUEDevice 26  IODev=huebridge
setuuid HUEDevice26 61eeefba-f33f-d8e9-ea8c-c9b3c4a670cadea8
attr HUEDevice26 IODev huebridge
attr HUEDevice26 alias Arbeitszimmer 2
attr HUEDevice26 color-icons 2
attr HUEDevice26 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice26 group HUEDevice
attr HUEDevice26 icon hue_filled_gu10_par16
attr HUEDevice26 model LWG004
attr HUEDevice26 room HUEDevice
attr HUEDevice26 subType dimmer
attr HUEDevice26 webCmd pct:toggle:on:off
define HUEDevice27 HUEDevice 27  IODev=huebridge
setuuid HUEDevice27 61eeefba-f33f-d8e9-b249-a3ae48065b72ebec
attr HUEDevice27 IODev huebridge
attr HUEDevice27 alias Arbeitszimmer 3
attr HUEDevice27 color-icons 2
attr HUEDevice27 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice27 group HUEDevice
attr HUEDevice27 icon hue_filled_gu10_par16
attr HUEDevice27 model LWG004
attr HUEDevice27 room HUEDevice
attr HUEDevice27 subType dimmer
attr HUEDevice27 webCmd pct:toggle:on:off
define HUEGroup0 HUEDevice group 0  IODev=huebridge
setuuid HUEGroup0 61eeefba-f33f-d8e9-a9a4-023cc83f47dc9d63
attr HUEGroup0 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup0 IODev huebridge
attr HUEGroup0 alias Lightset 0
attr HUEGroup0 color-icons 2
attr HUEGroup0 delayedUpdate 1
attr HUEGroup0 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup0 group HUEGroup
attr HUEGroup0 room HUEDevice
define HUEGroup1 HUEDevice group 1  IODev=huebridge
setuuid HUEGroup1 61eeefbb-f33f-d8e9-bec2-c73a67ebb2e59a12
attr HUEGroup1 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup1 IODev huebridge
attr HUEGroup1 alias Wohnzimmer
attr HUEGroup1 color-icons 2
attr HUEGroup1 delayedUpdate 1
attr HUEGroup1 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup1 group HUEGroup
attr HUEGroup1 room HUEDevice
define HUEGroup2 HUEDevice group 2  IODev=huebridge
setuuid HUEGroup2 61eeefbb-f33f-d8e9-4eb4-08e9948dedc89aa7
attr HUEGroup2 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup2 IODev huebridge
attr HUEGroup2 alias Haukes Zimmer
attr HUEGroup2 color-icons 2
attr HUEGroup2 delayedUpdate 1
attr HUEGroup2 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup2 group HUEGroup
attr HUEGroup2 room HUEDevice
define HUEGroup3 HUEDevice group 3  IODev=huebridge
setuuid HUEGroup3 61eeefbb-f33f-d8e9-799a-c318a6866be3cc0a
attr HUEGroup3 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup3 IODev huebridge
attr HUEGroup3 alias Marits Zimmer
attr HUEGroup3 color-icons 2
attr HUEGroup3 delayedUpdate 1
attr HUEGroup3 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup3 group HUEGroup
attr HUEGroup3 room HUEDevice
define HUEGroup5 HUEDevice group 5  IODev=huebridge
setuuid HUEGroup5 61eeefbb-f33f-d8e9-5bcf-519a667520b9517c
attr HUEGroup5 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup5 IODev huebridge
attr HUEGroup5 alias Arbeitszimmer
attr HUEGroup5 color-icons 2
attr HUEGroup5 delayedUpdate 1
attr HUEGroup5 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup5 group HUEGroup
attr HUEGroup5 room HUEDevice
define HUESensor1 HUEDevice sensor 1  IODev=huebridge
setuuid HUESensor1 61eeefbb-f33f-d8e9-a8ea-d778aeb48ed80bd0
attr HUESensor1 IODev huebridge
attr HUESensor1 alias Daylight
attr HUESensor1 group HUESensor
attr HUESensor1 model PHDL00
attr HUESensor1 room HUEDevice
define HUESensor4 HUEDevice sensor 4  IODev=huebridge
setuuid HUESensor4 61eeefbb-f33f-d8e9-e7c1-27f87eeb9bd1fe57
attr HUESensor4 IODev huebridge
attr HUESensor4 alias Switch Marit
attr HUESensor4 group HUESensor
attr HUESensor4 model RWL021
attr HUESensor4 room HUEDevice
define HUESensor5 HUEDevice sensor 5  IODev=huebridge
setuuid HUESensor5 61eeefbb-f33f-d8e9-f6ae-5d5ac4e9302a8092
attr HUESensor5 IODev huebridge
attr HUESensor5 alias Switch Hauke
attr HUESensor5 group HUESensor
attr HUESensor5 model RWL021
attr HUESensor5 room HUEDevice
define HUESensor14 HUEDevice sensor 14  IODev=huebridge
setuuid HUESensor14 61eeefbb-f33f-d8e9-2737-52c097eda3aae193
attr HUESensor14 IODev huebridge
attr HUESensor14 alias Switch Arbeitszimmer
attr HUESensor14 group HUESensor
attr HUESensor14 model RWL022
attr HUESensor14 room HUEDevice

define doifHueStreaming DOIF ([HUEDevice6:mode] eq "streaming") (set HUEDevice21 off)
setuuid doifHueStreaming 61eef96d-f33f-d8e9-a4ce-8fcbbefad952594d
attr doifHueStreaming alias Ambilight und Hue einschalten
attr doifHueStreaming comment Dieses DOIF schaltet die weiße Lampe im Wohnzimmer aus, wenn Ambilight + HUE am Fernseher eingeschaltet wird.\
Dabei wechsel der Status der Lampe Wohnzimmer 1 (HUEDevice 6) von "homeautomation" nach "streaming".\
Dauer üblicherweise ca. 1 min, bis das passiert.
attr doifHueStreaming icon helper_doif
attr doifHueStreaming room HUEDevice

define doifHueHomeautomation DOIF ([HUEDevice6:mode] eq "homeautomation") (set huebridge scene IPgogOZk0WzhaaW)
setuuid doifHueHomeautomation 61eefa86-f33f-d8e9-61f5-6dbb6d0abad78110
attr doifHueHomeautomation alias Ambilight und Hue ausschalten
attr doifHueHomeautomation comment Dieses DOIF schaltet die weiße Lampe im Wohnzimmer wieder an, wenn Ambilight + HUE am Fernseher wieder ausgeschaltet wird.\
Dabei wechsel der Status der Lampe Wohnzimmer 1 (HUEDevice 6) von "streaming" nach "homeautomation".\
Dauer üblicherweise ca. 1 min, bis das passiert.
attr doifHueHomeautomation icon helper_doif
attr doifHueHomeautomation room HUEDevice
define HUEDevice6 HUEDevice 6  IODev=huebridge
setuuid HUEDevice6 61f0e6f5-f33f-d8e9-f76a-b322069c9a3836c7
attr HUEDevice6 IODev huebridge
attr HUEDevice6 alias Wohnzimmer 1
attr HUEDevice6 color-icons 2
attr HUEDevice6 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice6 group HUEDevice
attr HUEDevice6 icon hue_filled_white_and_color_e27_b22
attr HUEDevice6 model LCT001
attr HUEDevice6 room HUEDevice
attr HUEDevice6 subType extcolordimmer
attr HUEDevice6 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off

define siri siri
setuuid siri 6213eabb-f33f-d8e9-e406-ae988ddd750de6b5
attr siri room Homekit

define MQTT2_shelly1_E89F6D869E63 MQTT2_DEVICE shelly1_E89F6D869E63
setuuid MQTT2_shelly1_E89F6D869E63 62374343-f33f-d8e9-6906-0e7671e080b972b8
attr MQTT2_shelly1_E89F6D869E63 alias Shelly Garage Tina
attr MQTT2_shelly1_E89F6D869E63 comment input0 ist das Signal fuer den Reed-Kontakt\
- input0=1 Reed-Kontakt geschlossen -> Tor zu\
- input0=0 Reed-Kontakt offen -> Tor offen
attr MQTT2_shelly1_E89F6D869E63 devStateIcon {\
    my $onl = ReadingsVal($name,"online","false") eq "false" ? "rot" : ReadingsVal($name,"new_fw","false") eq "true" ? "gelb" : "gruen";;;;;;;;\
    my $input = ReadingsVal($name,"input0","1") eq "1"?'fts_garage_door_100@gruen':'fts_garage_door_10@red';;;;;;;;\
    my $light = ReadingsVal($name,"state","off");;;;;;;;\
	my $ip = ReadingsVal($name,"ip","none");;;;;;;;\
    my $show = '<a href="';;;;;;;;\
	$show .= $onl eq "gelb" ? "/fhem?cmd.dummy=set $name x_update&XHR=1\">" : "http://".ReadingsVal($name,"ip","none").' "target="_blank">';;;;;;;; \
	$show .= FW_makeImage("10px-kreis-".$onl)."</a>";;;;;;;; \
	"<div> $show <a href=\"http://$ip\" target=\"_blank\">".FW_makeImage($input)."</a></div>"\
}
attr MQTT2_shelly1_E89F6D869E63 event-on-change-reading .*
attr MQTT2_shelly1_E89F6D869E63 genericDeviceType switch
attr MQTT2_shelly1_E89F6D869E63 icon mqtt_device
attr MQTT2_shelly1_E89F6D869E63 model shelly1
attr MQTT2_shelly1_E89F6D869E63 readingList shellies/shelly1-E89F6D869E63/relay/0:.* state\
  shellies/shelly1-E89F6D869E63/relay/0:.* relay0\
  shellies/shelly1-E89F6D869E63/input/0:.* input0\
  shellies/shelly1-E89F6D869E63/online:.* online\
  shellies/shelly1-E89F6D869E63/announce:.* { json2nameValue($EVENT) }\
  shellies/announce:.* { $EVENT =~ m,..id...shelly1-E89F6D869E63...mac.*, ? json2nameValue($EVENT) : return }\
shelly1_E89F6D869E63:shellies/shelly1-E89F6D869E63/info:.* { json2nameValue($EVENT) }\
shelly1_E89F6D869E63:shellies/shelly1-E89F6D869E63/online:.* online\
shelly1_E89F6D869E63:shellies/shelly1-E89F6D869E63/input_event/0:.* { json2nameValue($EVENT) }\
shelly1_E89F6D869E63:shellies/shelly1-E89F6D869E63/longpush/0:.* longpush_0
attr MQTT2_shelly1_E89F6D869E63 room Garagen
attr MQTT2_shelly1_E89F6D869E63 setList off:noArg shellies/shelly1-E89F6D869E63/relay/0/command off\
  on:noArg shellies/shelly1-E89F6D869E63/relay/0/command on\
  x_update:noArg shellies/shelly1-E89F6D869E63/command update_fw\
  x_mqttcom shellies/shelly1-E89F6D869E63/command $EVTPART1
attr MQTT2_shelly1_E89F6D869E63 webCmd on

define MQTT2_shelly1_862BBE MQTT2_DEVICE shelly1_862BBE
setuuid MQTT2_shelly1_862BBE 62374343-f33f-d8e9-4be6-854220b3fcc4e162
attr MQTT2_shelly1_862BBE alias Shelly Garage Carsten
attr MQTT2_shelly1_862BBE comment input0 ist das Signal fuer den Reed-Kontakt\
- input0=1 Reed-Kontakt geschlossen -> Tor zu\
- input0=0 Reed-Kontakt offen -> Tor offen
attr MQTT2_shelly1_862BBE devStateIcon {\
    my $onl = ReadingsVal($name,"online","false") eq "false" ? "rot" : ReadingsVal($name,"new_fw","false") eq "true" ? "gelb" : "gruen";;;;;;;;\
    my $input = ReadingsVal($name,"input0","1") eq "1"?'fts_garage_door_100@gruen':'fts_garage_door_10@red';;;;;;;;\
    my $light = ReadingsVal($name,"state","off");;;;;;;;\
	my $ip = ReadingsVal($name,"ip","none");;;;;;;;\
    my $show = '<a href="';;;;;;;;\
	$show .= $onl eq "gelb" ? "/fhem?cmd.dummy=set $name x_update&XHR=1\">" : "http://".ReadingsVal($name,"ip","none").' "target="_blank">';;;;;;;; \
	$show .= FW_makeImage("10px-kreis-".$onl)."</a>";;;;;;;; \
	"<div> $show <a href=\"http://$ip\" target=\"_blank\">".FW_makeImage($input)."</a></div>"\
}
attr MQTT2_shelly1_862BBE event-on-change-reading .*
attr MQTT2_shelly1_862BBE genericDeviceType switch
attr MQTT2_shelly1_862BBE icon mqtt_device
attr MQTT2_shelly1_862BBE model shelly1
attr MQTT2_shelly1_862BBE readingList shellies/shelly1-862BBE/relay/0:.* state\
  shellies/shelly1-862BBE/relay/0:.* relay0\
  shellies/shelly1-862BBE/input/0:.* input0\
  shellies/shelly1-862BBE/online:.* online\
  shellies/shelly1-862BBE/announce:.* { json2nameValue($EVENT) }\
  shellies/announce:.* { $EVENT =~ m,..id...shelly1-862BBE...mac.*, ? json2nameValue($EVENT) : return }\
shelly1_862BBE:shellies/shelly1-862BBE/info:.* { json2nameValue($EVENT) }\
shelly1_862BBE:shellies/shelly1-862BBE/online:.* online\
shelly1_862BBE:shellies/shelly1-862BBE/input_event/0:.* { json2nameValue($EVENT) }\
shelly1_862BBE:shellies/shelly1-862BBE/longpush/0:.* longpush_0
attr MQTT2_shelly1_862BBE room Garagen
attr MQTT2_shelly1_862BBE setList off:noArg shellies/shelly1-862BBE/relay/0/command off\
  on:noArg shellies/shelly1-862BBE/relay/0/command on\
  x_update:noArg shellies/shelly1-862BBE/command update_fw\
  x_mqttcom shellies/shelly1-862BBE/command $EVTPART1
attr MQTT2_shelly1_862BBE webCmd on

define dummyGarageCarsten dummy
setuuid dummyGarageCarsten 62169ecb-f33f-d8e9-c3ac-499d167a7686dace
attr dummyGarageCarsten alias Carsten
attr dummyGarageCarsten devStateIcon open:fts_garage_door_10@red close:fts_garage_door_100@green
attr dummyGarageCarsten devStateStyle fts_garage
attr dummyGarageCarsten genericDeviceType garage
attr dummyGarageCarsten group Garage
attr dummyGarageCarsten homebridgeMapping On=open=state,valueOff=close,valueOn=open,cmdOff=close,cmdOn=open
attr dummyGarageCarsten icon fts_garage
attr dummyGarageCarsten room Dashboard,Garagen,Homekit
attr dummyGarageCarsten setList open close
attr dummyGarageCarsten webCmd open:close

define dummyGarageTina dummy
setuuid dummyGarageTina 62374719-f33f-d8e9-48ec-49354e3bcd6799bb
attr dummyGarageTina alias Tina
attr dummyGarageTina devStateIcon open:fts_garage_door_10@red close:fts_garage_door_100@green
attr dummyGarageTina devStateStyle fts_garage
attr dummyGarageTina genericDeviceType garage
attr dummyGarageTina group Garage
attr dummyGarageTina homebridgeMapping On=open=state,valueOff=close,valueOn=open,cmdOff=close,cmdOn=open
attr dummyGarageTina icon fts_garage
attr dummyGarageTina room Dashboard,Garagen,Homekit
attr dummyGarageTina setList open close
attr dummyGarageTina webCmd open:close

define doifGarageTina DOIF ## 1\
([dummyGarageTina:"close"] and [MQTT2_shelly1_E89F6D869E63:input0] eq 0)\
	(set MQTT2_shelly1_E89F6D869E63 on)\
## 2\
DOELSEIF ([dummyGarageTina:"open"] and [MQTT2_shelly1_E89F6D869E63:input0] eq 1)\
	(set MQTT2_shelly1_E89F6D869E63 on)\
## 3\
DOELSEIF ([MQTT2_shelly1_E89F6D869E63:input0] eq 1)\
	(set dummyGarageTina close)\
## 4\
DOELSEIF ([MQTT2_shelly1_E89F6D869E63:input0] eq 0)\
	(set dummyGarageTina open)
setuuid doifGarageTina 62374eaf-f33f-d8e9-adb4-913f3f3187b862df
attr doifGarageTina icon helper_doif
attr doifGarageTina room Garagen

define doifGarageCarsten DOIF ## 1\
([dummyGarageCarsten:"close"] and [MQTT2_shelly1_862BBE:input0] eq 0)\
	(set MQTT2_shelly1_862BBE on)\
## 2\
DOELSEIF ([dummyGarageCarsten:"open"] and [MQTT2_shelly1_862BBE:input0] eq 1)\
	(set MQTT2_shelly1_862BBE on)\
## 3\
DOELSEIF ([MQTT2_shelly1_862BBE:input0] eq 1)\
	(set dummyGarageCarsten close)\
## 4\
DOELSEIF ([MQTT2_shelly1_862BBE:input0] eq 0)\
	(set dummyGarageCarsten open)\

setuuid doifGarageCarsten 62374f3c-f33f-d8e9-8e93-273d6aeb0cd4580b
attr doifGarageCarsten icon helper_doif
attr doifGarageCarsten room Garagen

define dummyGarageTest dummy
setuuid dummyGarageTest 6238d8b2-f33f-d8e9-8942-b1132b47c2b93a2b
attr dummyGarageTest devStateIcon open:fts_garage_door_10@red close:fts_garage_door_100@green
attr dummyGarageTest devStateStyle fts_garage
attr dummyGarageTest genericDeviceType garage
attr dummyGarageTest group Garage
attr dummyGarageTest homebridgeMapping On=open=state,valueOff=close,valueOn=open,cmdOff=close,cmdOn=open
attr dummyGarageTest icon fts_garage
attr dummyGarageTest room Test
attr dummyGarageTest setList open close
attr dummyGarageTest webCmd open:close

define dummyShellyTest dummy
setuuid dummyShellyTest 6238d952-f33f-d8e9-2dd5-e904f53e14c28d3d
attr dummyShellyTest devStateIcon {\
    my $onl = ReadingsVal($name,"online","false") eq "false" ? "rot" : ReadingsVal($name,"new_fw","false") eq "true" ? "gelb" : "gruen";;;;;;;;\
    my $input = ReadingsVal($name,"input0","1") eq "1"?'fts_garage_door_100@gruen':'fts_garage_door_10@red';;;;;;;;\
    my $light = ReadingsVal($name,"state","off");;;;;;;;\
	my $ip = ReadingsVal($name,"ip","none");;;;;;;;\
    my $show = '<a href="';;;;;;;;\
	$show .= $onl eq "gelb" ? "/fhem?cmd.dummy=set $name x_update&XHR=1\">" : "http://".ReadingsVal($name,"ip","none").' "target="_blank">';;;;;;;; \
	$show .= FW_makeImage("10px-kreis-".$onl)."</a>";;;;;;;; \
	"<div> $show <a href=\"http://$ip\" target=\"_blank\">".FW_makeImage($input)."</a></div>"\
}
attr dummyShellyTest event-on-change-reading .*
attr dummyShellyTest group Garage
attr dummyShellyTest icon mqtt_device
attr dummyShellyTest readingList online input0 new_fw ip
attr dummyShellyTest room Test
attr dummyShellyTest setList on off online:true,false input0:0,1 new_fw:true,false
attr dummyShellyTest webCmd input0:new_fw:online

define doifGarageTest DOIF ## 1\
([dummyGarageTest:"close"] ) \
	(setreading dummyShellyTest input0 1)\
## 2\
DOELSEIF ([dummyGarageTest:"open"] ) \
	(setreading dummyShellyTest input0 0)\
## 3\
DOELSEIF ([dummyShellyTest:input0] eq 1)\
	(set dummyGarageTest close)\
## 4\
DOELSEIF ([dummyShellyTest:input0] eq 0)\
	(set dummyGarageTest open)
setuuid doifGarageTest 6238e66f-f33f-d8e9-8840-6647d91abf5b681c
attr doifGarageTest group Garage
attr doifGarageTest icon helper_doif
attr doifGarageTest room Test
define gWLAN readingsProxy Fritzbox:box_guestWlan
setuuid gWLAN 6238fde8-f33f-d8e9-626e-a84379c69441032c
attr gWLAN alias Gäste-WLAN
attr gWLAN devStateIcon on:ios-on-green off:ios-off
attr gWLAN event-on-change-reading state
attr gWLAN genericDeviceType switch
attr gWLAN group FritzBox
attr gWLAN homebridgeMapping On=state,valueOn=on,valueOff=off,cmdOn=on,cmdOff=off
attr gWLAN room Homekit,Urlaub
attr gWLAN setFn {fhem("set Fritzbox guestWlan ". ($CMD eq 'on' ?"on":"off"))}
attr gWLAN setList state:on,off
attr gWLAN webCmd on:off
define weblink_garagetina weblink htmlCode { '<a href="http://192.168.2.10">weblink Garage von Tina</a> ' }
setuuid weblink_garagetina 623a478a-f33f-d8e9-e0ef-8ab562cfd5c4443b
attr weblink_garagetina room Test
define notifyGarageTinaOffline notify MQTT2_shelly1_E89F6D869E63:online:.* set telegramBot message Garage von Tina $EVENT
setuuid notifyGarageTinaOffline 623af676-f33f-d8e9-6240-0db33d1f7b01ff1c
attr notifyGarageTinaOffline room Telegram
define notifyGarageCarstenOffline notify MQTT2_shelly1_862BBE:online:.* set telegramBot message Garage von Carsten $EVENT
setuuid notifyGarageCarstenOffline 623af994-f33f-d8e9-52a8-5db07188a03141eb
attr notifyGarageCarstenOffline room Telegram
define lp logProxy
setuuid lp 623b8af7-f33f-d8e9-e740-abaec6d106fa326a
attr lp room System
define iconDemoSingle dummy
setuuid iconDemoSingle 623ce812-f33f-d8e9-af07-e5e0bc8d7e5eb92c
attr iconDemoSingle group Demo-Icons
attr iconDemoSingle readingList state
attr iconDemoSingle room Test
attr iconDemoSingle webCmd on:off
define WEBPhone FHEMWEB 8084 global
setuuid WEBPhone 623ecf4a-f33f-d8e9-1ae2-d68ff1ffc517ce67
attr WEBPhone JavaScripts codemirror/fhem_codemirror.js
attr WEBPhone closeConn 0
attr WEBPhone codemirrorParam { "lineWrapping":true }
attr WEBPhone editConfig 1
attr WEBPhone iconPath fhemSVG:openautomation:default
attr WEBPhone longpoll 1
attr WEBPhone mainInputLength 80
attr WEBPhone plotEmbed 0
attr WEBPhone plotfork 1
attr WEBPhone room System
attr WEBPhone styleData {\
 "f18": {\
  "Pinned.menu": false,\
  "hidePin": "true",\
  "cols.bg": "FFFFE7",\
  "cols.fg": "000000",\
  "cols.link": "278727",\
  "cols.evenrow": "F8F8E0",\
  "cols.oddrow": "F0F0D8",\
  "cols.header": "E0E0C8",\
  "cols.menu": "D7FFFF",\
  "cols.sel": "A0FFFF",\
  "cols.inpBack": "FFFFFF",\
  "savePinChanges": true,\
  "fixedInput": true,\
  "wrapcolumns": false,\
  "widePortrait": true\
 }\
}
define WEBTablet FHEMWEB 8085 global
setuuid WEBTablet 623ed03c-f33f-d8e9-f393-28638e6984f429ba
attr WEBTablet JavaScripts codemirror/fhem_codemirror.js
attr WEBTablet closeConn 0
attr WEBTablet codemirrorParam { "lineWrapping":true }
attr WEBTablet iconPath fhemSVG:openautomation:default
attr WEBTablet longpoll 1
attr WEBTablet mainInputLength 80
attr WEBTablet plotEmbed 0
attr WEBTablet plotfork 1
attr WEBTablet room System
define doifGarageTinaOffen DOIF ([21:00] and [MQTT2_shelly1_E89F6D869E63:input0] eq 0) (set telegramBot message @-683449865 Tinas Garage noch offen)
setuuid doifGarageTinaOffen 624ad440-f33f-d8e9-abbd-db3f241b2085966f
attr doifGarageTinaOffen room Telegram
define doifGarageCarstenOffen DOIF ([21:00] and [MQTT2_shelly1_862BBE:input0] eq 0) (set telegramBot message @-683449865 Carstens Garage noch offen)
setuuid doifGarageCarstenOffen 624adf43-f33f-d8e9-c921-09cf015c4cfa4290
attr doifGarageCarstenOffen room Telegram
define nw holiday
setuuid nw 624ae4fb-f33f-d8e9-8e07-378c558b6d83d501
attr nw room System
