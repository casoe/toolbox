attr global userattr DbLogExclude DbLogInclude DbLogValueFn:textField-long cmdIcon devStateIcon devStateIcon:textField-long devStateStyle genericDeviceType:security,ignore,switch,outlet,light,blind,thermometer,thermostat,contact,garage,window,lock homebridgeMapping:textField-long icon siriName sortby webCmd webCmdLabel:textField-long widgetOverride
attr global autoload_undefined_devices 1
attr global autosave 0
attr global holiday2we NW_Feiertag
attr global logfile ./log/fhem-%Y-%m.log
attr global modpath .
attr global motd none
attr global pidfilename /var/run/fhem/fhem.pid
attr global room System
attr global showInternalValues 1
attr global statefile ./log/fhem.save
attr global updateInBackground 1
attr global verbose 3

define telnetPort telnet 7072 global
setuuid telnetPort 5c63389a-f33f-47a6-6006-4a23a79997bb3bfa
attr telnetPort room System

define WEB FHEMWEB 8083 global
setuuid WEB 5c63389a-f33f-47a6-81b9-bb9ae0687a6361b8
attr WEB JavaScripts codemirror/fhem_codemirror.js
attr WEB codemirrorParam { "indentWithTabs":false, "indentUnit":2, "autocomplete":false, "height":"auto" }
attr WEB editConfig 1
attr WEB iconPath fhemSVG:openautomation:default
attr WEB longpoll websocket
attr WEB plotfork 1
attr WEB room System
attr WEB stylesheetPrefix default

define WEBphone FHEMWEB 8084 global
setuuid WEBphone 5c63389a-f33f-47a6-41a8-f1c9babd1774e218
attr WEBphone codemirrorParam { "indentWithTabs":false, "indentUnit":2, "autocomplete":false, "height":"auto" }
attr WEBphone room System
attr WEBphone stylesheetPrefix smallscreen

define WEBtablet FHEMWEB 8085 global
setuuid WEBtablet 5c63389a-f33f-47a6-b66e-32d8c56800222a74
attr WEBtablet codemirrorParam { "indentWithTabs":false, "indentUnit":2, "autocomplete":false, "height":"auto" }
attr WEBtablet room System
attr WEBtablet stylesheetPrefix touchpad

define Systembefehle weblink cmdList Restart:Restart-Fhem:shutdown+restart Update:Update-Check:update+check Update:Update-Now:update Shutdown:Shutdown-Fhem:shutdown
setuuid Systembefehle 5c63389a-f33f-47a6-852b-b9cc277a14848342
attr Systembefehle room System

### Fake FileLog entry, to access the fhem log from FHEMWEB 
define Logfile FileLog ./log/fhem-%Y-%m.log fakelog
setuuid Logfile 5c63389a-f33f-47a6-a5e0-9620b9fca2418a52
attr Logfile room System

define autocreate autocreate
setuuid autocreate 5c63389a-f33f-47a6-e3c0-3d1839cf94c3d7d9
attr autocreate room System

define eventTypes eventTypes ./log/eventTypes.txt
setuuid eventTypes 5c63389a-f33f-47a6-0ce1-bb594e2d03416feb
attr eventTypes room System

### Disable this to avoid looking for new USB devices on startup
define initialUsbCheck notify global:INITIALIZED usb create
setuuid initialUsbCheck 5c63389a-f33f-47a6-cf94-13923b43a24ce4fe
attr initialUsbCheck room System

define logdb DbLog ./db.conf .*:.*
setuuid logdb 5c63389b-f33f-47a6-3c23-7854f3b462ac92cd
attr logdb DbLogSelectionMode Include
attr logdb DbLogType Current/History
attr logdb asyncMode 1
attr logdb room Plots->System,Plots->Tasmota,Plots->Zähler

define Rep.LogDB.sqlResult DbRep logdb
setuuid Rep.LogDB.sqlResult 5dac3f69-f33f-d8e9-1923-54b486d42ec7bb58
attr Rep.LogDB.sqlResult aggregation no
attr Rep.LogDB.sqlResult comment Device zum freien Report mit sqlCmd.\
- Auswahl von Statements -\
\
Device/Reading-Kombinationen in der Datenbank:\
select device, reading, count(*) from history group by DEVICE, READING\
\
geloggte Devices in der Datenbank:\
select device, count(*) from history group by DEVICE\

attr Rep.LogDB.sqlResult devStateIcon connected:10px-kreis-gelb .*disconnect:10px-kreis-rot .*done:10px-kreis-gruen
attr Rep.LogDB.sqlResult disable 0
attr Rep.LogDB.sqlResult event-on-update-reading state
attr Rep.LogDB.sqlResult group Datenbankauswertungen
attr Rep.LogDB.sqlResult room System
attr Rep.LogDB.sqlResult showproctime 1
attr Rep.LogDB.sqlResult sqlResultFormat table
attr Rep.LogDB.sqlResult stateFormat { if (defined($defs{$name}{READINGS}{SqlResult})) {\
   ReadingsVal($name,"SqlResult",undef);;\
  } else {\
   ReadingsVal($name,"state",undef);;\
  } \
}
attr Rep.LogDB.sqlResult timeout 1000
attr Rep.LogDB.sqlResult verbose 2

define sysstat SYSSTAT
setuuid sysstat 5c63389b-f33f-47a6-34d3-1ba0d9a3986c4255
attr sysstat DbLogInclude /,/boot,cpufreq,load,temperature
attr sysstat filesystems /dev/root,/dev/mmcblk0p1
attr sysstat group Raspberry Pi Systemstatus
attr sysstat raspberrycpufreq 1
attr sysstat raspberrytemperature 2
attr sysstat room System
attr sysstat showpercent 1

define Stromzaehler OBIS /dev/lesekopf@9600,7,E,1 SML
setuuid Stromzaehler 5c63389b-f33f-47a6-4250-3173f54cdaf79b52
attr Stromzaehler DbLogInclude power,total_consumption
attr Stromzaehler event-min-interval total_consumption:60
attr Stromzaehler interval 5
attr Stromzaehler pollingMode on
attr Stromzaehler room Zähler

### Plots
define myPlot_Stromverbrauch SVG logdb:myPlot_Stromverbrauch:HISTORY
setuuid myPlot_Stromverbrauch 5c63389b-f33f-47a6-cf75-5e1c1f04f64aaacc
attr myPlot_Stromverbrauch room Plots->Zähler,Zähler

define myPlot_Systemlast SVG logdb:myPlot_Systemlast:HISTORY
setuuid myPlot_Systemlast 5dac2bf3-f33f-d8e9-35bb-68258cb7d129915f
attr myPlot_Systemlast room Plots->System

define myPlot_Temperatur SVG logdb:myPlot_Temperatur:HISTORY
setuuid myPlot_Temperatur 5dac3225-f33f-d8e9-80f2-46b662125fa8b8cb
attr myPlot_Temperatur room Plots->System

define myPlot_Synology SVG logdb:myPlot_Synology:HISTORY
setuuid myPlot_Synology 5dcdd830-f33f-d8e9-c608-fb7737e10b9746e2
attr myPlot_Synology room Plots->Tasmota
attr myPlot_Synology sortby 3

define myPlot_Computer SVG logdb:myPlot_Computer:HISTORY
setuuid myPlot_Computer 5e2755db-f33f-d8e9-78e5-a1f276c26d8865db
attr myPlot_Computer room Plots->Tasmota
attr myPlot_Computer sortby 2

define myPlot_Fernseher SVG logdb:myPlot_Fernseher:HISTORY
setuuid myPlot_Fernseher 5e2755db-f33f-d8e9-8b85-20f24d0ce8a8b652
attr myPlot_Fernseher room Plots->Tasmota
attr myPlot_Fernseher sortby 1

define myPlot_Zirkulationspumpe SVG logdb:myPlot_Zirkulationspumpe:HISTORY
setuuid myPlot_Zirkulationspumpe 5e2755db-f33f-d8e9-1051-221d990494af7e14
attr myPlot_Zirkulationspumpe room Plots->Tasmota
attr myPlot_Zirkulationspumpe sortby 4

define myPlot_Trockner SVG logdb:myPlot_Trockner:HISTORY
setuuid myPlot_Trockner 5e2755db-f33f-d8e9-1d97-b67e81069f58407c
attr myPlot_Trockner room Plots->Tasmota
attr myPlot_Trockner sortby 6

define myPlot_Waschmaschine SVG logdb:myPlot_Waschmaschine:HISTORY
setuuid myPlot_Waschmaschine 5e2755db-f33f-d8e9-afae-30449e8d78ba3b26
attr myPlot_Waschmaschine room Plots->Tasmota
attr myPlot_Waschmaschine sortby 5


### Sonos
define Sonos SONOS
setuuid Sonos 5d98889e-f33f-d8e9-57e7-1b0307739510daca
attr Sonos event-on-change-reading .*
attr Sonos room Sonos
attr Sonos verbose 1
define Sonos_Wohnzimmer_RR SONOSPLAYER RINCON_5CAAFD2E263C01400_MR
setuuid Sonos_Wohnzimmer_RR 5d9888a9-f33f-d8e9-2db9-76e34a9993414384
attr Sonos_Wohnzimmer_RR alias Wohnzimmer - Hinten Rechts
attr Sonos_Wohnzimmer_RR generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer_RR generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer_RR generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer_RR generateVolumeSlider 1
attr Sonos_Wohnzimmer_RR getAlarms 1
attr Sonos_Wohnzimmer_RR getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer_RR group Wohnzimmer
attr Sonos_Wohnzimmer_RR icon icoSONOSPLAYER_icon-S1.png
attr Sonos_Wohnzimmer_RR minVolume 0
attr Sonos_Wohnzimmer_RR model Sonos_S1
attr Sonos_Wohnzimmer_RR room Sonos
attr Sonos_Wohnzimmer_RR simulateCurrentTrackPosition 1
attr Sonos_Wohnzimmer_RR sortby 1
attr Sonos_Wohnzimmer_RR stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer_RR userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer_RR webCmd Volume
define Sonos_Wohnzimmer_LR SONOSPLAYER RINCON_B8E937ECFF1E01400_MR
setuuid Sonos_Wohnzimmer_LR 5d9888aa-f33f-d8e9-0cbe-487c2b1409cc917d
attr Sonos_Wohnzimmer_LR alias Wohnzimmer - Hinten Links
attr Sonos_Wohnzimmer_LR generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer_LR generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer_LR generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer_LR generateVolumeSlider 1
attr Sonos_Wohnzimmer_LR getAlarms 1
attr Sonos_Wohnzimmer_LR getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer_LR group Wohnzimmer
attr Sonos_Wohnzimmer_LR icon icoSONOSPLAYER_icon-S1.png
attr Sonos_Wohnzimmer_LR minVolume 0
attr Sonos_Wohnzimmer_LR model Sonos_S1
attr Sonos_Wohnzimmer_LR room Sonos
attr Sonos_Wohnzimmer_LR simulateCurrentTrackPosition 1
attr Sonos_Wohnzimmer_LR sortby 1
attr Sonos_Wohnzimmer_LR stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer_LR userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer_LR webCmd Volume
define Sonos_Wohnzimmer SONOSPLAYER RINCON_5CAAFDAB59C501400_MR
setuuid Sonos_Wohnzimmer 5d9888be-f33f-d8e9-f022-e3f29f691afa7f5a
attr Sonos_Wohnzimmer alias Wohnzimmer - Mitte
attr Sonos_Wohnzimmer generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer generateVolumeSlider 1
attr Sonos_Wohnzimmer getAlarms 1
attr Sonos_Wohnzimmer getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer group Wohnzimmer
attr Sonos_Wohnzimmer icon icoSONOSPLAYER_icon-S9.png
attr Sonos_Wohnzimmer minVolume 0
attr Sonos_Wohnzimmer model Sonos_S9
attr Sonos_Wohnzimmer room Homekit,Sonos
attr Sonos_Wohnzimmer simulateCurrentTrackPosition 1
attr Sonos_Wohnzimmer sortby 1
attr Sonos_Wohnzimmer stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer webCmd Volume
define Sonos_WohnzimmerRG_Favourites readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Favourites",1)}@Favourites>
setuuid Sonos_WohnzimmerRG_Favourites 5d9888be-f33f-d8e9-2af9-55902c998176dc74
attr Sonos_WohnzimmerRG_Favourites room Sonos
define Sonos_WohnzimmerRG_Radios readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Radios",1)}@Radios>
setuuid Sonos_WohnzimmerRG_Radios 5d9888be-f33f-d8e9-dd51-8f1e4a99a4c97f22
attr Sonos_WohnzimmerRG_Radios room Sonos
define Sonos_WohnzimmerRG_Playlists readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Playlists")}@Playlists>
setuuid Sonos_WohnzimmerRG_Playlists 5d9888be-f33f-d8e9-52f0-b7c8d46b97c6a4de
attr Sonos_WohnzimmerRG_Playlists room Sonos
define Sonos_WohnzimmerRG_Queue readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Queue")}@Queue>
setuuid Sonos_WohnzimmerRG_Queue 5d9888be-f33f-d8e9-523f-9b83e6e62b7afe53
attr Sonos_WohnzimmerRG_Queue room Sonos

### Stromzähler
define rgStromzaehler readingsGroup TYPE=OBIS:power\
TYPE=OBIS:total_consumption
setuuid rgStromzaehler 5c63389d-f33f-47a6-2bf5-83fb96bac44a93bd
attr rgStromzaehler group Strom
attr rgStromzaehler mapping {'power' => 'Aktueller Verbrauch (gesamt)', 'total_consumption' => 'Zählerstand'}
attr rgStromzaehler noheading 1
attr rgStromzaehler notime 1
attr rgStromzaehler room Dashboard
attr rgStromzaehler style style="border:0px;;background:none;;box-shadow:none"
attr rgStromzaehler valueFormat {\
	power => "%.0fW", \
	total_consumption => "%.2fkWh"\
}
attr rgStromzaehler valueIcon {\
	'state.on' => 'general_an',\
	'state.off' => 'general_aus@red'\
}
attr rgStromzaehler valueStyle style="text-align:right"

### Systemüberwachung
define rgSystemstatus readingsGroup sysstat:temperature\
sysstat:load
setuuid rgSystemstatus 5c63389d-f33f-47a6-1722-fc5157e02a66911c
attr rgSystemstatus alias Raspberry Pi
attr rgSystemstatus group Raspberry Pi Systemstatus
attr rgSystemstatus mapping {'load' => 'Auslastung (letzte Minute)', 'temperature' => 'CPU-Temperatur'}
attr rgSystemstatus noheading 1
attr rgSystemstatus nostate 1
attr rgSystemstatus notime 1
attr rgSystemstatus room Dashboard
attr rgSystemstatus style style="border:0px;;background:none;;box-shadow:none"
attr rgSystemstatus valueFormat {load => '{sprintf("%.0f%%",$VALUE*100)}',temperature=> "%.1f°C"}
attr rgSystemstatus valueStyle style="text-align:right"

### FritzBox!
define FritzBox FRITZBOX 192.168.2.1
setuuid FritzBox 5c63389d-f33f-47a6-d795-5178a94247f3148b
attr FritzBox allowTR064Command 1
attr FritzBox room FritzBox

define rpFritzboxGwlan readingsProxy FritzBox:box_guestWlan
setuuid rpFritzboxGwlan 5c63389d-f33f-47a6-b8ab-bf150c8aea41ec51
attr rpFritzboxGwlan alias Olymp Gastzugang
attr rpFritzboxGwlan devStateIcon on:ios-on-green:off off:ios-off:on
attr rpFritzboxGwlan event-on-change-reading .*
attr rpFritzboxGwlan room FritzBox
attr rpFritzboxGwlan setFn {($CMD eq "on")?"guestWlan on":"guestWlan off"}
attr rpFritzboxGwlan setList on off

define rpFritzboxWlan readingsProxy FritzBox:box_wlan_2.4GHz
setuuid rpFritzboxWlan 5c63389d-f33f-47a6-81de-d533fd78ea4d0833
attr rpFritzboxWlan alias Olymp
attr rpFritzboxWlan devStateIcon on:ios-on-green:off off:ios-off:on
attr rpFritzboxWlan event-on-change-reading .*
attr rpFritzboxWlan room FritzBox
attr rpFritzboxWlan setFn {($CMD eq "on")?"wlan on":"wlan off"}
attr rpFritzboxWlan setList on off

define rgFritzbox readingsGroup TYPE=FRITZBOX:box_cpuTemp\
TYPE=FRITZBOX:box_powerRate\
TYPE=FRITZBOX:box_wlan_2.4GHz\
TYPE=FRITZBOX:box_guestWlan
setuuid rgFritzbox 5c63389d-f33f-47a6-21d4-b13e4e3cdc6ac2f1
attr rgFritzbox group FritzBox
attr rgFritzbox mapping {'box_cpuTemp' => 'CPU-Temperatur', 'box_powerRate' => 'Aktueller Energieverbrauch:', 'box_wlan_2.4GHz' => 'WLAN', 'box_guestWlan' => 'WLAN Gastzugang'}
attr rgFritzbox noheading 1
attr rgFritzbox nostate 1
attr rgFritzbox notime 1
attr rgFritzbox room Dashboard
attr rgFritzbox style style="border:0px;;background:none;;box-shadow:none"
attr rgFritzbox valueFormat {box_cpuTemp => "%.1f°C", box_powerRate => "%.0f%%"}
attr rgFritzbox valueIcon {\
	'box_wlan_2.4GHz.on' => 'ios-on-green',\
	'box_wlan_2.4GHz.off' => 'ios-off@red',\
	'box_guestWlan.on' => 'ios-on-green',\
	'box_guestWlan.off' => 'ios-off@red'\
}
attr rgFritzbox valueStyle style="text-align:right"

define atTraffic at +*00:01:00 {\
my $d= ((ReadingsVal("FritzBox",".box_TodayBytesReceivedLow",0) / (1000*1000) ) / 1000 + ( ReadingsVal("FritzBox",".box_TodayBytesReceivedHigh",0) * 4294967296 / (1000*1000) ) / 1000);;\
fhem("setreading Empfangen Empfangen $d");;\
 \
my $e= ((ReadingsVal("FritzBox",".box_TodayBytesSentLow",0) / (1000*1000) ) / 1000 + ( ReadingsVal("FritzBox",".box_TodayBytesSentHigh",0) * 4294967296 / (1000*1000) ) / 1000);;\
fhem("setreading Gesendet Gesendet $e");;\
}
setuuid atTraffic 5d46efb2-f33f-47a6-8aa6-f11611f4065b57c0
attr atTraffic room FritzBox
define Empfangen dummy
setuuid Empfangen 5d46efd4-f33f-47a6-f3a5-a8e7b1af00902ce0
attr Empfangen alias Download (Heute - Gesamt)
attr Empfangen icon control_arrow_down@green
attr Empfangen room FritzBox
attr Empfangen stateFormat {sprintf("%.2f GB - %.2f GB",ReadingsVal("Empfangen","Empfangen",0),ReadingsVal("Empfangen","Empfangen_ges",0))}
attr Empfangen userReadings Empfangen_ges monotonic { ReadingsVal("Empfangen","Empfangen",0)}
define Gesendet dummy
setuuid Gesendet 5d46efe5-f33f-47a6-3e89-b88e6870270f6cd9
attr Gesendet alias Upload (Heute - Gesamt)
attr Gesendet icon control_arrow_up@red
attr Gesendet room FritzBox
attr Gesendet stateFormat {sprintf("%.2f GB - %.2f GB",ReadingsVal("Gesendet","Gesendet",0),ReadingsVal("Gesendet","Gesendet_ges",0))}
attr Gesendet userReadings Gesendet_ges monotonic { ReadingsVal("Gesendet","Gesendet",0)}

### MQTT2-Server und Tasmota-Devices
define broker MQTT2_SERVER 1883 global
setuuid broker 5c63389d-f33f-47a6-5ce0-c308ac79547f778e
attr broker autocreate no
attr broker room Tasmota

define MQTT2_DVES_4B31BB MQTT2_DEVICE DVES_4B31BB
setuuid MQTT2_DVES_4B31BB 5c6b2376-f33f-47a6-c868-3c84c20e02eb6671
attr MQTT2_DVES_4B31BB DbLogInclude POWER1
attr MQTT2_DVES_4B31BB IODev broker
attr MQTT2_DVES_4B31BB alias Bügeleisen
attr MQTT2_DVES_4B31BB autocreate 1
attr MQTT2_DVES_4B31BB event-on-change-reading .*
attr MQTT2_DVES_4B31BB readingList tele/obi-wlan1/LWT:.* LWT\
  tele/obi-wlan1/STATE:.* { json2nameValue($EVENT) }\
  tele/obi-wlan1/SENSOR:.* { json2nameValue($EVENT) }\
  tele/obi-wlan1/INFO.:.* { json2nameValue($EVENT) }\
  stat/obi-wlan1/RESULT:.* { json2nameValue($EVENT) }
attr MQTT2_DVES_4B31BB room Homekit,Tasmota
attr MQTT2_DVES_4B31BB setList off:noArg    cmnd/obi-wlan1/POWER1 0\
  on:noArg     cmnd/obi-wlan1/POWER1 1\
  toggle:noArg cmnd/obi-wlan1/POWER1 2
attr MQTT2_DVES_4B31BB setStateList on off toggle
attr MQTT2_DVES_4B31BB sortby 4
attr MQTT2_DVES_4B31BB stateFormat {my $state = lc ReadingsVal($name, "POWER1", "off");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>"\
}
attr MQTT2_DVES_4B31BB userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_4B31BB webCmd toggle

define MQTT2_DVES_EAA928 MQTT2_DEVICE DVES_EAA928
setuuid MQTT2_DVES_EAA928 5c6b2376-f33f-47a6-03f8-9f051ecaaae9d2f4
attr MQTT2_DVES_EAA928 DbLogInclude ENERGY_Power
attr MQTT2_DVES_EAA928 IODev broker
attr MQTT2_DVES_EAA928 alias Fernseher & Peripherie
attr MQTT2_DVES_EAA928 autocreate 1
attr MQTT2_DVES_EAA928 event-on-change-reading .*
attr MQTT2_DVES_EAA928 readingList tele/sonoff-pow1/LWT:.* LWT\
  tele/sonoff-pow1/STATE:.* { json2nameValue($EVENT) }\
  tele/sonoff-pow1/SENSOR:.* { json2nameValue($EVENT) }\
  tele/sonoff-pow1/INFO.:.* { json2nameValue($EVENT) }\
  stat/sonoff-pow1/RESULT:.* { json2nameValue($EVENT) }
attr MQTT2_DVES_EAA928 room Tasmota
attr MQTT2_DVES_EAA928 setList off:noArg    cmnd/sonoff-pow1/POWER1 0\
  on:noArg     cmnd/sonoff-pow1/POWER1 1\
  toggle:noArg cmnd/sonoff-pow1/POWER1 2
attr MQTT2_DVES_EAA928 setStateList on off toggle
attr MQTT2_DVES_EAA928 sortby 1
attr MQTT2_DVES_EAA928 stateFormat {my $state = lc ReadingsVal($name, "POWER1", "off");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
ReadingsVal($name,"ENERGY_Power",-1), \
ReadingsVal($name,"ENERGY_Today",-1)\
)\
}
attr MQTT2_DVES_EAA928 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_EAA928 webCmd toggle

define MQTT2_DVES_14C6B8 MQTT2_DEVICE DVES_14C6B8
setuuid MQTT2_DVES_14C6B8 5c6b2377-f33f-47a6-a8d6-90150af640f17e4c
attr MQTT2_DVES_14C6B8 DbLogInclude ENERGY_Power
attr MQTT2_DVES_14C6B8 IODev broker
attr MQTT2_DVES_14C6B8 alias Computer & Peripherie
attr MQTT2_DVES_14C6B8 autocreate 1
attr MQTT2_DVES_14C6B8 event-on-change-reading .*
attr MQTT2_DVES_14C6B8 readingList tele/sonoff-pow2/LWT:.* LWT\
  tele/sonoff-pow2/STATE:.* { json2nameValue($EVENT) }\
  tele/sonoff-pow2/SENSOR:.* { json2nameValue($EVENT) }\
  tele/sonoff-pow2/INFO.:.* { json2nameValue($EVENT) }\
  stat/sonoff-pow2/RESULT:.* { json2nameValue($EVENT) }
attr MQTT2_DVES_14C6B8 room Tasmota
attr MQTT2_DVES_14C6B8 setList off:noArg    cmnd/sonoff-pow2/POWER1 0\
  on:noArg     cmnd/sonoff-pow2/POWER1 1\
  toggle:noArg cmnd/sonoff-pow2/POWER1 2
attr MQTT2_DVES_14C6B8 setStateList on off toggle
attr MQTT2_DVES_14C6B8 sortby 2
attr MQTT2_DVES_14C6B8 stateFormat {my $state = lc ReadingsVal($name, "state", "off");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
ReadingsVal($name,"ENERGY_Power",-1), \
ReadingsVal($name,"ENERGY_Today",-1)\
)\
}
attr MQTT2_DVES_14C6B8 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_14C6B8 webCmd toggle

define MQTT2_DVES_0371A9 MQTT2_DEVICE DVES_0371A9
setuuid MQTT2_DVES_0371A9 5dc47b52-f33f-d8e9-fa1d-5ee57920d71db634
attr MQTT2_DVES_0371A9 DbLogInclude ENERGY_Power
attr MQTT2_DVES_0371A9 IODev broker
attr MQTT2_DVES_0371A9 alias Zirkulationspumpe
attr MQTT2_DVES_0371A9 autocreate 1
attr MQTT2_DVES_0371A9 event-on-change-reading .*
attr MQTT2_DVES_0371A9 readingList tele/gosund-sp111-02/LWT:.* LWT\
  tele/gosund-sp111-02/STATE:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-02/SENSOR:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-02/INFO.:.* { json2nameValue($EVENT) }\
  stat/gosund-sp111-02/RESULT:.* { json2nameValue($EVENT) }
attr MQTT2_DVES_0371A9 room Tasmota
attr MQTT2_DVES_0371A9 setList off:noArg    cmnd/gosund-sp111-02/POWER1 0\
  on:noArg     cmnd/gosund-sp111-02/POWER1 1\
  toggle:noArg cmnd/gosund-sp111-02/POWER1 2
attr MQTT2_DVES_0371A9 setStateList on off toggle
attr MQTT2_DVES_0371A9 sortby 5
attr MQTT2_DVES_0371A9 stateFormat {my $state = lc ReadingsVal($name, "state", "off");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
ReadingsVal($name,"ENERGY_Power",-1), \
ReadingsVal($name,"ENERGY_Today",-1)\
)\
}
attr MQTT2_DVES_0371A9 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_0371A9 webCmd toggle

define MQTT2_DVES_02F335 MQTT2_DEVICE DVES_02F335
setuuid MQTT2_DVES_02F335 5dc47b56-f33f-d8e9-f421-eaf6a57dd6885ee1
attr MQTT2_DVES_02F335 DbLogInclude ENERGY_Power
attr MQTT2_DVES_02F335 IODev broker
attr MQTT2_DVES_02F335 alias Synology NAS
attr MQTT2_DVES_02F335 autocreate 1
attr MQTT2_DVES_02F335 event-on-change-reading .*
attr MQTT2_DVES_02F335 readingList tele/gosund-sp111-01/LWT:.* LWT\
  tele/gosund-sp111-01/STATE:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-01/SENSOR:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-01/INFO.:.* { json2nameValue($EVENT) }\
  stat/gosund-sp111-01/RESULT:.* { json2nameValue($EVENT) }
attr MQTT2_DVES_02F335 room Tasmota
attr MQTT2_DVES_02F335 setList off:noArg    cmnd/gosund-sp111-01/POWER1 0\
  on:noArg     cmnd/gosund-sp111-01/POWER1 1\
  toggle:noArg cmnd/gosund-sp111-01/POWER1 2
attr MQTT2_DVES_02F335 setStateList on off toggle
attr MQTT2_DVES_02F335 sortby 3
attr MQTT2_DVES_02F335 stateFormat {my $state = lc ReadingsVal($name, "state", "off");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
ReadingsVal($name,"ENERGY_Power",-1), \
ReadingsVal($name,"ENERGY_Today",-1)\
)\
}
attr MQTT2_DVES_02F335 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_02F335 webCmd toggle

define rgVerbraucher readingsGroup <Verbraucher>,<Status>,<Verbrauch>\
TYPE=MQTT2_DEVICE:POWER1,ENERGY_Power\
rgVerbraucher:$sum(:2)@Summe
setuuid rgVerbraucher 5dc6ca84-f33f-d8e9-d86c-6c8078ed793995f7
attr rgVerbraucher alias Verbraucher
attr rgVerbraucher group Strom
attr rgVerbraucher noheading 1
attr rgVerbraucher room Dashboard
attr rgVerbraucher sortDevices 1
attr rgVerbraucher style style="border:0px;;background:none;;box-shadow:none"
attr rgVerbraucher valueFormat {ENERGY_Power => "%.0fW", Summe => "%.0fW"}
attr rgVerbraucher valueIcon {\
	'POWER1.on' => 'ios-on-green',\
	'POWER1.off' => 'ios-off@red'\
}
attr rgVerbraucher valueStyle style="text-align:right"

define MQTT2_DVES_A4CAD6 MQTT2_DEVICE DVES_A4CAD6
setuuid MQTT2_DVES_A4CAD6 5dc9dc0a-f33f-d8e9-4e65-7d31a3d77782b6cb
attr MQTT2_DVES_A4CAD6 DbLogInclude ENERGY_Power
attr MQTT2_DVES_A4CAD6 IODev broker
attr MQTT2_DVES_A4CAD6 alias Waschmaschine
attr MQTT2_DVES_A4CAD6 autocreate 1
attr MQTT2_DVES_A4CAD6 event-on-change-reading .*
attr MQTT2_DVES_A4CAD6 readingList tele/gosund-sp111-03/LWT:.* LWT\
  tele/gosund-sp111-03/STATE:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-03/SENSOR:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-03/INFO.:.* { json2nameValue($EVENT) }\
  stat/gosund-sp111-03/RESULT:.* { json2nameValue($EVENT) }
attr MQTT2_DVES_A4CAD6 room Tasmota
attr MQTT2_DVES_A4CAD6 setList off:noArg    cmnd/gosund-sp111-03/POWER1 0\
  on:noArg     cmnd/gosund-sp111-03/POWER1 1\
  toggle:noArg cmnd/gosund-sp111-03/POWER1 2
attr MQTT2_DVES_A4CAD6 setStateList on off toggle
attr MQTT2_DVES_A4CAD6 sortby 6
attr MQTT2_DVES_A4CAD6 stateFormat {\
	my $state = lc ReadingsVal($name, "state", "off");;\
	my $online = lc ReadingsVal($name, "LWT", "Offline");;\
	my $devStateIcon = 'ios-on-green.png';;\
	if ($state eq "off")\
	{\
		$devStateIcon = 'ios-off.png';;\
	}\
	if ($online eq "Offline")\
	{\
		$devStateIcon = 'ios-NACKK.png';;\
	}\
	"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
	"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
	ReadingsVal($name,"ENERGY_Power",-1), \
	ReadingsVal($name,"ENERGY_Today",-1)\
	)\
}
attr MQTT2_DVES_A4CAD6 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_A4CAD6 webCmd toggle

define MQTT2_DVES_350EBD MQTT2_DEVICE DVES_350EBD
setuuid MQTT2_DVES_350EBD 5dc9dc0a-f33f-d8e9-3f9c-ee834ef0f2e9b1eb
attr MQTT2_DVES_350EBD DbLogInclude ENERGY_Power
attr MQTT2_DVES_350EBD IODev broker
attr MQTT2_DVES_350EBD alias Trockner
attr MQTT2_DVES_350EBD autocreate 1
attr MQTT2_DVES_350EBD event-on-change-reading .*
attr MQTT2_DVES_350EBD readingList tele/gosund-sp111-04/LWT:.* LWT\
  tele/gosund-sp111-04/STATE:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-04/SENSOR:.* { json2nameValue($EVENT) }\
  tele/gosund-sp111-04/INFO.:.* { json2nameValue($EVENT) }\
  stat/gosund-sp111-04/RESULT:.* { json2nameValue($EVENT) }
attr MQTT2_DVES_350EBD room Tasmota
attr MQTT2_DVES_350EBD setList off:noArg    cmnd/gosund-sp111-04/POWER1 0\
on:noArg     cmnd/gosund-sp111-04/POWER1 1\
toggle:noArg cmnd/gosund-sp111-04/POWER1 2
attr MQTT2_DVES_350EBD setStateList on off toggle
attr MQTT2_DVES_350EBD sortby 7
attr MQTT2_DVES_350EBD stateFormat {my $state = lc ReadingsVal($name, "state", "on");;\
my $devStateIcon = 'ios-on-green.png';;\
if ($state eq "off")\
{\
$devStateIcon = 'ios-off.png';;\
}\
"<div><img src='/fhem/images/default/" . $devStateIcon . "'>" . sprintf(\
"&nbsp;;&nbsp;;Aktuell: %.0f W / Tag: %.3f kW/h",\
ReadingsVal($name,"ENERGY_Power",-1), \
ReadingsVal($name,"ENERGY_Today",-1)\
)\
}
attr MQTT2_DVES_350EBD userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) }
attr MQTT2_DVES_350EBD webCmd toggle

define doifWaschmaschine DOIF ([MQTT2_DVES_A4CAD6:ENERGY_Power] > 8)\
(\
	set $SELF washState running,\
	set $SELF start_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))}\
)\
DOELSEIF ([MQTT2_DVES_A4CAD6:ENERGY_Power] < 8)\
(\
	set $SELF washState finish,\
	set $SELF end_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))},\
	set $SELF lastRun_timestamp {(TimeNow())},\
	set $SELF lastRun_kWh {(sprintf ('%.3f',(ReadingsVal("$SELF","end_kWh",0) - ReadingsVal("$SELF","start_kWh",0))))}\
)
setuuid doifWaschmaschine 5d0a6078-f33f-47a6-19ee-bb4e8ad36efc0d8d
attr doifWaschmaschine alias Status Waschmaschine
attr doifWaschmaschine cmdState running|finish
attr doifWaschmaschine readingList washState start_kWh end_kWh lastRun_kWh lastRun_timestamp
attr doifWaschmaschine room Tasmota
attr doifWaschmaschine sortby 1
attr doifWaschmaschine wait 45:120

define doifTrockner DOIF ([MQTT2_DVES_350EBD:ENERGY_Power] > 8)\
(\
	set $SELF washState running,\
	set $SELF start_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))}\
)\
DOELSEIF ([MQTT2_DVES_350EBD:ENERGY_Power] < 8)\
(\
	set $SELF washState finish,\
	set $SELF end_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))},\
	set $SELF lastRun_timestamp {(TimeNow())},\
	set $SELF lastRun_kWh {(sprintf ('%.3f',(ReadingsVal("$SELF","end_kWh",0) - ReadingsVal("$SELF","start_kWh",0))))}\
)
setuuid doifTrockner 5d0a6078-f33f-47a6-ef70-0d50a532fba8dd15
attr doifTrockner alias Status Trockner
attr doifTrockner cmdState running|finish
attr doifTrockner readingList washState start_kWh end_kWh lastRun_kWh lastRun_timestamp
attr doifTrockner room Tasmota
attr doifTrockner sortby 2
attr doifTrockner wait 45:120

### Homebridge
define siri siri
setuuid siri 5cf3c327-f33f-47a6-7b29-6d0f1b730bd2e1bb
attr siri room Homekit

### Telegram
define telegramBot TelegramBot
setuuid telegramBot 5d988d43-f33f-d8e9-aab6-8f5a1b30f23cdaad
attr telegramBot allowUnknownContacts 0
attr telegramBot defaultPeer 9437849
attr telegramBot event-on-change-reading state
attr telegramBot event-on-update-reading msgText
attr telegramBot pollingTimeout 120
attr telegramBot room Telegram

define notifyFhemReload notify global:INITIALIZED set telegramBot message FHEM wurde neu gestartet
setuuid notifyFhemReload 5d988f6a-f33f-d8e9-5f1d-d8f038daeeec8af4
attr notifyFhemReload room Telegram

define wdt_Zirkulation WeekdayTimer MQTT2_DVES_0371A9 12345|06:15|on 67|08:00|on 1234567|20:00|off
setuuid wdt_Zirkulation 5e1325fa-f33f-d8e9-b4c9-28e607290a3feade
attr wdt_Zirkulation alias Zeitschaltung Zirkulationspumpe
attr wdt_Zirkulation commandTemplate set $NAME  $EVENT
attr wdt_Zirkulation devStateIcon on:general_an@green off:general_aus@red
attr wdt_Zirkulation room Tasmota

define watchdogBuegeleisen watchdog MQTT2_DVES_4B31BB:on 00:60:00 MQTT2_DVES_4B31BB:off set MQTT2_DVES_4B31BB off
setuuid watchdogBuegeleisen 5e24c0d1-f33f-d8e9-e6dc-7eaf28d7d9b1d83a
attr watchdogBuegeleisen alias Zeitabschaltung Bügeleisen
attr watchdogBuegeleisen autoRestart 1
attr watchdogBuegeleisen room Tasmota

define notifyBuegeleisenAn notify MQTT2_DVES_4B31BB:on set telegramBot message Bügeleisen an
setuuid notifyBuegeleisenAn 5e24c9c7-f33f-d8e9-7ba1-7c602c14ac076461
attr notifyBuegeleisenAn room Telegram

define notifyBuegeleisenAus notify MQTT2_DVES_4B31BB:off set telegramBot message Bügeleisen aus
setuuid notifyBuegeleisenAus 5e24cd51-f33f-d8e9-e6a6-c69730f55e0873af
attr notifyBuegeleisenAus room Telegram

### HUE
define Hue HUEBridge 192.168.2.49
setuuid Hue 5e261cb6-f33f-d8e9-5fd0-578730b10929cf8b
attr Hue httpUtils 1
attr Hue icon hue_filled_bridge_v1
attr Hue key 7G7ucLnlPV0sBAlIH-XU3MkmAcHYQ2rX-DI1Fs8p
attr Hue noshutdown 1
attr Hue pollDevices 1
attr Hue room HUE

define Hue_HUEDevice11 HUEDevice 11  IODev=Hue
setuuid Hue_HUEDevice11 5e261cd6-f33f-d8e9-4361-eeb642fb3463534c
attr Hue_HUEDevice11 IODev Hue
attr Hue_HUEDevice11 alias Hue color lamp 4
attr Hue_HUEDevice11 color-icons 2
attr Hue_HUEDevice11 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr Hue_HUEDevice11 group HUEDevice
attr Hue_HUEDevice11 icon hue_filled_white_and_color_e27_b22
attr Hue_HUEDevice11 model LCT010
attr Hue_HUEDevice11 room HUE
attr Hue_HUEDevice11 subType extcolordimmer
attr Hue_HUEDevice11 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off

define Hue_HUEDevice12 HUEDevice 12  IODev=Hue
setuuid Hue_HUEDevice12 5e261cd6-f33f-d8e9-b055-f10ac25068e62096
attr Hue_HUEDevice12 IODev Hue
attr Hue_HUEDevice12 alias Hue color lamp 5
attr Hue_HUEDevice12 color-icons 2
attr Hue_HUEDevice12 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr Hue_HUEDevice12 group HUEDevice
attr Hue_HUEDevice12 icon hue_filled_white_and_color_e27_b22
attr Hue_HUEDevice12 model LCT010
attr Hue_HUEDevice12 room HUE
attr Hue_HUEDevice12 subType extcolordimmer
attr Hue_HUEDevice12 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off

define Hue_HUEDevice6 HUEDevice 6  IODev=Hue
setuuid Hue_HUEDevice6 5e261cd6-f33f-d8e9-25b3-03c5249acecdc315
attr Hue_HUEDevice6 IODev Hue
attr Hue_HUEDevice6 alias Hue color lamp 1
attr Hue_HUEDevice6 color-icons 2
attr Hue_HUEDevice6 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr Hue_HUEDevice6 group HUEDevice
attr Hue_HUEDevice6 icon hue_filled_white_and_color_e27_b22
attr Hue_HUEDevice6 model LCT001
attr Hue_HUEDevice6 room HUE
attr Hue_HUEDevice6 subType extcolordimmer
attr Hue_HUEDevice6 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off

define Hue_HUEDevice8 HUEDevice 8  IODev=Hue
setuuid Hue_HUEDevice8 5e261cd6-f33f-d8e9-e359-4b927259a28ad559
attr Hue_HUEDevice8 IODev Hue
attr Hue_HUEDevice8 alias Hue color lamp 3
attr Hue_HUEDevice8 color-icons 2
attr Hue_HUEDevice8 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr Hue_HUEDevice8 group HUEDevice
attr Hue_HUEDevice8 icon hue_filled_white_and_color_e27_b22
attr Hue_HUEDevice8 model LCT001
attr Hue_HUEDevice8 room HUE
attr Hue_HUEDevice8 subType extcolordimmer
attr Hue_HUEDevice8 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off

define Hue_HUEDevice7 HUEDevice 7  IODev=Hue
setuuid Hue_HUEDevice7 5e261cd6-f33f-d8e9-a977-d1de5cf6acb3befc
attr Hue_HUEDevice7 IODev Hue
attr Hue_HUEDevice7 alias Hue color lamp 2
attr Hue_HUEDevice7 color-icons 2
attr Hue_HUEDevice7 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr Hue_HUEDevice7 group HUEDevice
attr Hue_HUEDevice7 icon hue_filled_white_and_color_e27_b22
attr Hue_HUEDevice7 model LCT001
attr Hue_HUEDevice7 room HUE
attr Hue_HUEDevice7 subType extcolordimmer
attr Hue_HUEDevice7 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off

define HUESwitch1 HUEDevice sensor 6 1 IODev=Hue
setuuid HUESwitch1 5e277888-f33f-d8e9-48f1-e2050b95e8311176
attr HUESwitch1 IODev Hue
attr HUESwitch1 alias Schalter Hauke‘s Zimmer
attr HUESwitch1 group HUESwitch
attr HUESwitch1 model RWL021
attr HUESwitch1 room HUE

define HUESwitch2 HUEDevice sensor 8 1 IODev=Hue
setuuid HUESwitch2 5e27790b-f33f-d8e9-f204-9e97043ef478c839
attr HUESwitch2 IODev Hue
attr HUESwitch2 alias Schalter Marit‘s Zimmer
attr HUESwitch2 group HUESwitch
attr HUESwitch2 model RWL021
attr HUESwitch2 room HUE

define Hue_HUEGroup2 HUEDevice group 2  IODev=Hue
setuuid Hue_HUEGroup2 5e28936c-f33f-d8e9-8aa2-b2a815a1317cd911
attr Hue_HUEGroup2 userattr createActionReadings:1,0 createGroupReadings:1,0
attr Hue_HUEGroup2 IODev Hue
attr Hue_HUEGroup2 alias Hauke‘s Zimmer
attr Hue_HUEGroup2 color-icons 2
attr Hue_HUEGroup2 createActionReadings 1
attr Hue_HUEGroup2 createGroupReadings 1
attr Hue_HUEGroup2 delayedUpdate 1
attr Hue_HUEGroup2 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr Hue_HUEGroup2 group HUEGroup
attr Hue_HUEGroup2 room HUE,Homekit

define Hue_HUEGroup0 HUEDevice group 0  IODev=Hue
setuuid Hue_HUEGroup0 5e28936c-f33f-d8e9-4293-a9e6212b82981fa8
attr Hue_HUEGroup0 userattr createActionReadings:1,0 createGroupReadings:1,0
attr Hue_HUEGroup0 IODev Hue
attr Hue_HUEGroup0 alias Alle Lampen
attr Hue_HUEGroup0 color-icons 2
attr Hue_HUEGroup0 createActionReadings 1
attr Hue_HUEGroup0 createGroupReadings 1
attr Hue_HUEGroup0 delayedUpdate 1
attr Hue_HUEGroup0 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr Hue_HUEGroup0 group HUEGroup
attr Hue_HUEGroup0 room HUE

define Hue_HUEGroup1 HUEDevice group 1  IODev=Hue
setuuid Hue_HUEGroup1 5e28936c-f33f-d8e9-e51a-f4a6803176fc6bd9
attr Hue_HUEGroup1 userattr createActionReadings:1,0 createGroupReadings:1,0
attr Hue_HUEGroup1 IODev Hue
attr Hue_HUEGroup1 alias Wohnzimmer
attr Hue_HUEGroup1 color-icons 2
attr Hue_HUEGroup1 createActionReadings 1
attr Hue_HUEGroup1 createGroupReadings 1
attr Hue_HUEGroup1 delayedUpdate 1
attr Hue_HUEGroup1 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr Hue_HUEGroup1 group HUEGroup
attr Hue_HUEGroup1 room HUE,Homekit

define Hue_HUEGroup3 HUEDevice group 3  IODev=Hue
setuuid Hue_HUEGroup3 5e28936c-f33f-d8e9-beb0-67ddb09eb20400a6
attr Hue_HUEGroup3 userattr createActionReadings:1,0 createGroupReadings:1,0
attr Hue_HUEGroup3 IODev Hue
attr Hue_HUEGroup3 alias Marit‘s Zimmer
attr Hue_HUEGroup3 color-icons 2
attr Hue_HUEGroup3 createActionReadings 1
attr Hue_HUEGroup3 createGroupReadings 1
attr Hue_HUEGroup3 delayedUpdate 1
attr Hue_HUEGroup3 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr Hue_HUEGroup3 group HUEGroup
attr Hue_HUEGroup3 room HUE,Homekit

define myPlot_Buegeleisen SVG logdb:myPlot_Buegeleisen:HISTORY
setuuid myPlot_Buegeleisen 5e2896bb-f33f-d8e9-8d71-da016be49b821204
attr myPlot_Buegeleisen comment #logdb MQTT2_DVES_4B31BB:POWER1:::$val=($val=~"on"?1:0)
attr myPlot_Buegeleisen room Plots->Tasmota

define WetterProplanta PROPLANTA Aachen de
setuuid WetterProplanta 5e400951-f33f-d8e9-f7c0-9d74418607732c7f
attr WetterProplanta room Wetter

define VorschauProplanta weblink htmlCode {PROPLANTA_Html("WetterProplanta",7)}
setuuid VorschauProplanta 5e4009a5-f33f-d8e9-722d-67dd1eaf00421752
attr VorschauProplanta room Wetter

define myPlot_VerbrauchProTag SVG logdb:myPlot_VerbrauchProTag:HISTORY
setuuid myPlot_VerbrauchProTag 5e541bcc-f33f-d8e9-31c1-8d6e639fe13bcfb1
attr myPlot_VerbrauchProTag endPlotToday 1
attr myPlot_VerbrauchProTag fixedrange year
attr myPlot_VerbrauchProTag room Plots->Zähler

define lp logProxy
setuuid lp 5e64be48-f33f-d8e9-5cec-a84e7c0f737c17e3

define myPlot_VerbrauchProTagVergleich SVG logdb:myPlot_VerbrauchProTagVergleich:HISTORY
setuuid myPlot_VerbrauchProTagVergleich 5e6d03f6-f33f-d8e9-b043-4815ac4798475afd
attr myPlot_VerbrauchProTagVergleich endPlotNow 1

define watchdog systemd_watchdog
setuuid watchdog 5e9195f5-f33f-d8e9-410b-554a7f1260b803c9
attr watchdog room System


define rg readingsGroup <Device>,<Wert>,<Summe>,<Min>,<Max>,<Avg>\
t\d:+NAME,state,$sum(1..$ROW:2),$min(1..$ROW:2),$max(1..$ROW:2),$avg(1..$ROW:2)\
<hr>\
rg:<>,$scalar,$sum(:2)@SUM,$min(:2)@MIN,$max(:2)@MAX,$avg(:2)@AVG\

setuuid rg 5e9427fb-f33f-d8e9-90df-23cc39dcfc5ebfd4
attr rg group Demo-Tabelle
attr rg nonames 1
attr rg room Examples
attr rg style style='text-align:center'
attr rg valueFormat { 'avg' => '%.2f', 'AVG' => '%.2f' }
attr rg valuePrefix { 'rg.scalar' => '#', 'rg.SUM' =>'&Sigma;; ', 'rg.MIN' =>'Min: ', 'rg.MAX' =>'Max: ', 'rg.AVG' =>'&empty;; ', 'rg.count' => '#(X): ' }
attr rg valueSuffix { state => '&deg;;C' }

define t1 dummy
setuuid t1 5e9427fb-f33f-d8e9-f686-b74622414e7e08dd
attr t1 room Examples
attr t1 setList state:slider,-10,1,30
attr t1 webCmd state

define t2 dummy
setuuid t2 5e9427fb-f33f-d8e9-9e47-d3d2f6fc3bb482be
attr t2 room Examples
attr t2 setList state:slider,-10,1,30
attr t2 webCmd state

define t3 dummy
setuuid t3 5e9427fb-f33f-d8e9-ff5f-c85d1fc037341be2
attr t3 room Examples
attr t3 setList state:slider,-10,1,30
attr t3 webCmd state

define iconDemo dummy
setuuid iconDemo 5e948671-f33f-d8e9-7a5c-537a21482db68736
attr iconDemo devStateIcon 1.on:on:on1+off 1.off:off:on1+on 2.on:on:on2+off 2.off:off:on2+on 3.on:on:on3+off 3.off:off:on3+on ok:batterie@green low:batterie@red
attr iconDemo group Demo-Icons
attr iconDemo readingList on1 on2 on3 battery
attr iconDemo room Examples
attr iconDemo setList on1:on,off on2:on,off on3:on,off battery:low,ok
attr iconDemo stateFormat 1:on1\
2:on2\
3:on3\
<br>\
temperature&deg;;C\
battery
attr iconDemo webCmd on1:on2:on3:battery

define TABLETUI HTTPSRV ftui/ ./www/tablet/ Tablet-UI
setuuid TABLETUI 5e980c59-f33f-d8e9-cd8f-9aaaa29e19a1d400
attr TABLETUI room System

define ftuitest dummy
setuuid ftuitest 5eb078ee-f33f-d8e9-5bbe-8702f691131b8688
